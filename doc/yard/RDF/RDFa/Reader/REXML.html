<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: RDF::RDFa::Reader::REXML
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (R)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../RDFa.html" title="RDF::RDFa (module)">RDFa</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Reader.html" title="RDF::RDFa::Reader (class)">Reader</a></span></span>
     &raquo; 
    <span class="title">REXML</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: RDF::RDFa::Reader::REXML
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>REXML implementation of an XML parser.</p>

  </div>
</div>
<div class="tags">
  

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="http://www.germane-software.com/software/rexml/" target="_parent" title="http://www.germane-software.com/software/rexml/">http://www.germane-software.com/software/rexml/</a></li>
    
  </ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="REXML/NodeProxy.html" title="RDF::RDFa::Reader::REXML::NodeProxy (class)">NodeProxy</a></span>, <span class='object_link'><a href="REXML/NodeSetProxy.html" title="RDF::RDFa::Reader::REXML::NodeSetProxy (class)">NodeSetProxy</a></span>
    
  
</p>





  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#library-class_method" title="library (class method)">+ (Symbol) <strong>library</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the name of the underlying XML library.</p></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_host_language_version-instance_method" title="#detect_host_language_version (instance method)">- (Object) <strong>detect_host_language_version</strong>(input, options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Determine the host language and/or version from options and the input document.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doc_base-instance_method" title="#doc_base (instance method)">- (String) <strong>doc_base</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Find value of document base.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doc_errors-instance_method" title="#doc_errors (instance method)">- (Object) <strong>doc_errors</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Document errors.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_xml-instance_method" title="#initialize_xml (instance method)">- <strong>initialize_xml</strong>(input, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes the underlying XML library.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">- (Object) <strong>root</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return proxy for document root.</p></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="library-class_method">
  
    + (<tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>) <strong>library</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the name of the underlying XML library.</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 14</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='library identifier id'>library</span>
  <span class='symbol val'>:rexml</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="detect_host_language_version-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>detect_host_language_version</strong>(input, options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Determine the host language and/or version from options and the input document</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 188</span>

<span class='def def kw'>def</span> <span class='detect_host_language_version identifier id'>detect_host_language_version</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='@host_language ivar id'>@host_language</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:host_language</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:host_language</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
  <span class='@version ivar id'>@version</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:version</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:version</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='@host_language ivar id'>@host_language</span> <span class='andop op'>&amp;&amp;</span> <span class='@version ivar id'>@version</span>

  <span class='comment val'># Snif version based on input</span>
  <span class='case case kw'>case</span> <span class='input identifier id'>input</span>
  <span class='when when kw'>when</span> <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Document constant id'>Document</span>
    <span class='doc_type_string identifier id'>doc_type_string</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='doctype identifier id'>doctype</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='version_attr identifier id'>version_attr</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='root identifier id'>root</span> <span class='andop op'>&amp;&amp;</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;version&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='root_element identifier id'>root_element</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span>
    <span class='root_namespace identifier id'>root_namespace</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='root_attrs identifier id'>root_attrs</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span>
    <span class='content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='string val'>&quot;application/xhtml+html&quot;</span> <span class='comment val'># FIXME: what about other possible XML types?</span>
  <span class='else else kw'>else</span>
    <span class='content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='content_type identifier id'>content_type</span> <span class='if if_mod kw'>if</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:content_type</span><span class='rparen token'>)</span>

    <span class='comment val'># Determine from head of document</span>
    <span class='head identifier id'>head</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:read</span><span class='rparen token'>)</span>
      <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
      <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>1000</span><span class='rparen token'>)</span>
      <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
      <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='else else kw'>else</span>
      <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>1000</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>

    <span class='doc_type_string identifier id'>doc_type_string</span> <span class='assign token'>=</span> <span class='head identifier id'>head</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;!DOCTYPE[^&gt;]*&gt;)</span><span class='m identifier id'>m</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='root identifier id'>root</span> <span class='assign token'>=</span> <span class='head identifier id'>head</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;[^!\?&gt;]*&gt;)</span><span class='m identifier id'>m</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='root_element identifier id'>root_element</span> <span class='assign token'>=</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(^&lt;(\S+)[ &gt;])</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='$1 nth_ref id'>$1</span> <span class='colon op'>:</span> <span class='string val'>&quot;&quot;</span>
    <span class='version_attr identifier id'>version_attr</span> <span class='assign token'>=</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/version\s+=\s+(\S+)[\s&quot;&gt;]/</span><span class='m identifier id'>m</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='$1 nth_ref id'>$1</span> <span class='colon op'>:</span> <span class='string val'>&quot;&quot;</span>
    <span class='head_element identifier id'>head_element</span> <span class='assign token'>=</span> <span class='head identifier id'>head</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;head.*&lt;\/head&gt;)</span><span class='mi identifier id'>mi</span><span class='rparen token'>)</span>
    <span class='head_doc identifier id'>head_doc</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Document constant id'>Document</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='head_element identifier id'>head_element</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>

    <span class='comment val'># May determine content-type and/or charset from meta</span>
    <span class='comment val'># Easist way is to parse head into a document and iterate</span>
    <span class='comment val'># of CSS matches</span>
    <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='XPath constant id'>XPath</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='head_doc identifier id'>head_doc</span><span class='comma token'>,</span> <span class='string val'>&quot;//meta&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;http-equiv&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='eq op'>==</span> <span class='string val'>'content-type'</span>
        <span class='content_type identifier id'>content_type</span><span class='comma token'>,</span> <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;content&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;;&quot;</span><span class='rparen token'>)</span>
        <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='if if_mod kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/charset=([^\s]*)$/i</span>
      <span class='elsif elsif kw'>elsif</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;charset&quot;</span><span class='rparen token'>)</span>
        <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;charset&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Already using XML parser, determine from DOCTYPE and/or root element</span>
  <span class='@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.0&quot;</span> <span class='if if_mod kw'>if</span> <span class='doc_type_string identifier id'>doc_type_string</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.0/</span>
  <span class='@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.0&quot;</span> <span class='if if_mod kw'>if</span> <span class='version_attr identifier id'>version_attr</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.0/</span>
  <span class='@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.1&quot;</span> <span class='if if_mod kw'>if</span> <span class='version_attr identifier id'>version_attr</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.1/</span>
  <span class='@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.1&quot;</span>

  <span class='@host_language ivar id'>@host_language</span> <span class='opasgn op'>||=</span> <span class='case case kw'>case</span> <span class='content_type identifier id'>content_type</span>
  <span class='when when kw'>when</span> <span class='string val'>&quot;application/xml&quot;</span>  <span class='then then kw'>then</span> <span class='symbol val'>:xml1</span>
  <span class='when when kw'>when</span> <span class='string val'>&quot;image/svg+xml&quot;</span>    <span class='then then kw'>then</span> <span class='symbol val'>:svg</span>
  <span class='when when kw'>when</span> <span class='string val'>&quot;text/html&quot;</span>
    <span class='case case kw'>case</span> <span class='doc_type_string identifier id'>doc_type_string</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/html 4/i</span>        <span class='then then kw'>then</span> <span class='symbol val'>:html4</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/xhtml/i</span>         <span class='then then kw'>then</span> <span class='symbol val'>:xhtml1</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/html/i</span>          <span class='then then kw'>then</span> <span class='symbol val'>:html5</span>
    <span class='end end kw'>end</span>
  <span class='when when kw'>when</span> <span class='string val'>&quot;application/xhtml+xml&quot;</span>
    <span class='case case kw'>case</span> <span class='doc_type_string identifier id'>doc_type_string</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/html 4/i</span>        <span class='then then kw'>then</span> <span class='symbol val'>:html4</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/xhtml/i</span>         <span class='then then kw'>then</span> <span class='symbol val'>:xhtml1</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/html/i</span>          <span class='then then kw'>then</span> <span class='symbol val'>:xhtml5</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='case case kw'>case</span> <span class='root_element identifier id'>root_element</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/svg/i</span>           <span class='then then kw'>then</span> <span class='symbol val'>:svg</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/html/i</span>          <span class='then then kw'>then</span> <span class='symbol val'>:html4</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='@host_language ivar id'>@host_language</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:xml1</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="doc_base-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>) <strong>doc_base</strong>(base) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Find value of document base</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>base</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Existing base from URI or :base_uri</p></div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294
295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 285</span>

<span class='def def kw'>def</span> <span class='doc_base identifier id'>doc_base</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='rparen token'>)</span>
  <span class='comment val'># find if the document has a base element</span>
  <span class='case case kw'>case</span> <span class='@host_language ivar id'>@host_language</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:xhtml1</span><span class='comma token'>,</span> <span class='symbol val'>:xhtml5</span><span class='comma token'>,</span> <span class='symbol val'>:html4</span><span class='comma token'>,</span> <span class='symbol val'>:html5</span>
    <span class='base_el identifier id'>base_el</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='XPath constant id'>XPath</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='@doc ivar id'>@doc</span><span class='comma token'>,</span> <span class='string val'>&quot;/html/head/base&quot;</span><span class='rparen token'>)</span> 
    <span class='base identifier id'>base</span> <span class='assign token'>=</span> <span class='base_el identifier id'>base_el</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;href&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;#&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='if if_mod kw'>if</span> <span class='base_el identifier id'>base_el</span>
  <span class='else else kw'>else</span>
    <span class='xml_base identifier id'>xml_base</span> <span class='assign token'>=</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;base&quot;</span><span class='comma token'>,</span> <span class='RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='XML constant id'>XML</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='base identifier id'>base</span> <span class='assign token'>=</span> <span class='xml_base identifier id'>xml_base</span> <span class='if if_mod kw'>if</span> <span class='xml_base identifier id'>xml_base</span>
  <span class='end end kw'>end</span>
  
  <span class='base identifier id'>base</span> <span class='orop op'>||</span> <span class='@base_uri ivar id'>@base_uri</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="doc_errors-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>doc_errors</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Document errors</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 276</span>

<span class='def def kw'>def</span> <span class='doc_errors identifier id'>doc_errors</span>
  <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize_xml-instance_method">
  
    - <strong>initialize_xml</strong>(input, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Initializes the underlying XML library.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 167</span>

<span class='def def kw'>def</span> <span class='initialize_xml identifier id'>initialize_xml</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='require identifier id'>require</span> <span class='string val'>'rexml/document'</span> <span class='unless unless_mod kw'>unless</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='rparen token'>)</span>
  <span class='@doc ivar id'>@doc</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='input identifier id'>input</span>
  <span class='when when kw'>when</span> <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Document constant id'>Document</span>
    <span class='input identifier id'>input</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Try to detect charset from input</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='charset identifier id'>charset</span> <span class='if if_mod kw'>if</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:charset</span><span class='rparen token'>)</span>
    
    <span class='comment val'># Otherwise, default is utf-8</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='string val'>'utf-8'</span>

    <span class='comment val'># Set xml:base for the document element, if defined</span>
    <span class='@base_uri ivar id'>@base_uri</span> <span class='assign token'>=</span> <span class='base_uri identifier id'>base_uri</span> <span class='integer val'>? </span><span class='base_uri identifier id'>base_uri</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>

    <span class='comment val'># Only parse as XML, no HTML mode</span>
    <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Document constant id'>Document</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:read</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='colon op'>:</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="root-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>root</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Return proxy for document root</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-67d45543d8d7/lib/rdf/rdfa/reader/rexml.rb', line 270</span>

<span class='def def kw'>def</span> <span class='root identifier id'>root</span>
  <span class='@root ivar id'>@root</span> <span class='opasgn op'>||=</span> <span class='NodeProxy constant id'>NodeProxy</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@doc ivar id'>@doc</span> <span class='andop op'>&amp;&amp;</span> <span class='@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='root identifier id'>root</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Fri Nov 11 16:33:15 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.8.7).
</div>

  </body>
</html>