<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RDF::RDFXML::Writer
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (W)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../RDFXML.html" title="RDF::RDFXML (module)">RDFXML</a></span></span>
     &raquo; 
    <span class="title">Writer</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: RDF::RDFXML::Writer
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></li>
          
            <li class="next">RDF::RDFXML::Writer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>An RDF/XML serialiser in Ruby</p>

<p>Note that the natural interface is to write a whole graph at a time.
Writing statements or Triples will create a graph to add them to
and then serialize the graph.</p>

<p>The writer will add prefix definitions, and use them for creating @prefix definitions, and minting QNames</p>

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'><p>Obtaining a RDF/XML writer class</p></div></h4>
      <pre class="example code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='symbol val'>:rdf</span><span class='rparen token'>)</span>         <span class='comment val'>#=&gt; RDF::RDFXML::Writer</span>
<span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='string val'>&quot;etc/test.rdf&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='symbol val'>:file_name</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;etc/test.rdf&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='symbol val'>:file_extension</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;rdf&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='symbol val'>:content_type</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;application/rdf+xml&quot;</span><span class='rparen token'>)</span>
</pre>
    
      <h4><div class='inline'><p>Serializing RDF graph into an RDF/XML file</p></div></h4>
      <pre class="example code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_RDFXML constant id'>RDFXML</span><span class='colon2 op'>::</span><span class='rubyid_Write constant id'>Write</span><span class='dot token'>.</span><span class='rubyid_open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>&quot;etc/test.rdf&quot;</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_writer identifier id'>writer</span><span class='bitor op'>|</span>
  <span class='rubyid_writer identifier id'>writer</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_graph identifier id'>graph</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    
      <h4><div class='inline'><p>Serializing RDF statements into an RDF/XML file</p></div></h4>
      <pre class="example code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_RDFXML constant id'>RDFXML</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>&quot;etc/test.rdf&quot;</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_writer identifier id'>writer</span><span class='bitor op'>|</span>
  <span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_each_statement identifier id'>each_statement</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_statement identifier id'>statement</span><span class='bitor op'>|</span>
    <span class='rubyid_writer identifier id'>writer</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_statement identifier id'>statement</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    
      <h4><div class='inline'><p>Serializing RDF statements into an RDF/XML string</p></div></h4>
      <pre class="example code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_RDFXML constant id'>RDFXML</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_buffer identifier id'>buffer</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_writer identifier id'>writer</span><span class='bitor op'>|</span>
  <span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_each_statement identifier id'>each_statement</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_statement identifier id'>statement</span><span class='bitor op'>|</span>
    <span class='rubyid_writer identifier id'>writer</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_statement identifier id'>statement</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    
      <h4><div class='inline'><p>Creating @base and @prefix definitions in output</p></div></h4>
      <pre class="example code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_RDFXML constant id'>RDFXML</span><span class='colon2 op'>::</span><span class='rubyid_Writer constant id'>Writer</span><span class='dot token'>.</span><span class='rubyid_buffer identifier id'>buffer</span><span class='lparen token'>(</span><span class='symbol val'>:base_uri</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://example.com/&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:prefixes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span>
    <span class='rubyid_nil nil kw'>nil</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://example.com/ns#&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:foaf</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://xmlns.com/foaf/0.1/&quot;</span><span class='rbrace token'>}</span>
<span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_writer identifier id'>writer</span><span class='bitor op'>|</span>
  <span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_each_statement identifier id'>each_statement</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_statement identifier id'>statement</span><span class='bitor op'>|</span>
    <span class='rubyid_writer identifier id'>writer</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_statement identifier id'>statement</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    
  </div>

<h3>Author:</h3>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p><a href="http://kellogg-assoc.com/">Gregg Kellogg</a></p></div>
      
    </li>
  
</ul>

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="VALID_ATTRIBUTES-constant" class="">VALID_ATTRIBUTES =
          
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:none</span><span class='comma token'>,</span> <span class='symbol val'>:untyped</span><span class='comma token'>,</span> <span class='symbol val'>:typed</span><span class='rbrack token'>]</span>
</pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#base_uri-instance_method" title="#base_uri (instance method)">- (URI) <strong>base_uri</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Base URI used for relativizing URIs.</p></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#graph-instance_method" title="#graph (instance method)">- (Graph) <strong>graph</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Graph of statements serialized.</p></div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writer.html#options-instance_method" title="RDF::Writer#options (method)">#options</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_qname-instance_method" title="#get_qname (instance method)">- (String<sup>?</sup>) <strong>get_qname</strong>(resource, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return a QName for the URI, or nil.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#indent-instance_method" title="#indent (instance method)">- (String) <strong>indent</strong>(modifier = 0) </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns indent string multiplied by the depth.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Writer) <strong>initialize</strong>(output = $stdout, options = {}) {|writer| ... }</a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes the RDF/XML writer instance.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#order_subjects-instance_method" title="#order_subjects (instance method)">- (Array&lt;Resource&gt;) <strong>order_subjects</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Order subjects for output.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#predicate_order-instance_method" title="#predicate_order (instance method)">- (Array&lt;URI&gt;) <strong>predicate_order</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines order of predicates to to emit at begninning of a resource description.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#preprocess-instance_method" title="#preprocess (instance method)">- (Object) <strong>preprocess</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform any preprocessing of statements required.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#preprocess_statement-instance_method" title="#preprocess_statement (instance method)">- (Object) <strong>preprocess_statement</strong>(statement) </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform any statement preprocessing required.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#relativize-instance_method" title="#relativize (instance method)">- (String) <strong>relativize</strong>(uri) </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>If base_uri is defined, use it to try to make uri relative.</p></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#reset-instance_method" title="#reset (instance method)">- (Object) <strong>reset</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#top_classes-instance_method" title="#top_classes (instance method)">- (Array&lt;URI&gt;) <strong>top_classes</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines rdf:type of subjects to be emitted at the beginning of the graph.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_epilogue-instance_method" title="#write_epilogue (instance method)">- <strong>write_epilogue</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Outputs the RDF/XML representation of all stored triples.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_graph-instance_method" title="#write_graph (instance method)">- <strong>write_graph</strong>(graph) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Write whole graph.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_statement-instance_method" title="#write_statement (instance method)">- <strong>write_statement</strong>(statement) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Addes a statement to be serialized.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_triple-instance_method" title="#write_triple (instance method)">- <strong>write_triple</strong>(subject, predicate, object) </a>
    

    
  </span>
  
  
  
  <span class="abstract note title">Abstract</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Addes a triple to be serialized.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writer.html#buffer-class_method" title="RDF::Writer.buffer (method)">buffer</a></span>, <span class='object_link'><a href="../Writer.html#dump-class_method" title="RDF::Writer.dump (method)">dump</a></span>, <span class='object_link'><a href="../Writer.html#each-class_method" title="RDF::Writer.each (method)">each</a></span>, <span class='object_link'><a href="../Writer.html#escaped-instance_method" title="RDF::Writer#escaped (method)">#escaped</a></span>, <span class='object_link'><a href="../Writer.html#flush-instance_method" title="RDF::Writer#flush (method)">#flush</a></span>, <span class='object_link'><a href="../Writer.html#for-class_method" title="RDF::Writer.for (method)">for</a></span>, <span class='object_link'><a href="../Writer.html#format-class_method" title="RDF::Writer.format (method)">format</a></span>, <span class='object_link'><a href="../Writer.html#format_list-instance_method" title="RDF::Writer#format_list (method)">#format_list</a></span>, <span class='object_link'><a href="../Writer.html#format_literal-instance_method" title="RDF::Writer#format_literal (method)">#format_literal</a></span>, <span class='object_link'><a href="../Writer.html#format_node-instance_method" title="RDF::Writer#format_node (method)">#format_node</a></span>, <span class='object_link'><a href="../Writer.html#format_term-instance_method" title="RDF::Writer#format_term (method)">#format_term</a></span>, <span class='object_link'><a href="../Writer.html#format_uri-instance_method" title="RDF::Writer#format_uri (method)">#format_uri</a></span>, <span class='object_link'><a href="../Writer.html#node_id-instance_method" title="RDF::Writer#node_id (method)">#node_id</a></span>, <span class='object_link'><a href="../Writer.html#open-class_method" title="RDF::Writer.open (method)">open</a></span>, <span class='object_link'><a href="../Writer.html#prefix-instance_method" title="RDF::Writer#prefix (method)">#prefix</a></span>, <span class='object_link'><a href="../Writer.html#prefixes-instance_method" title="RDF::Writer#prefixes (method)">#prefixes</a></span>, <span class='object_link'><a href="../Writer.html#prefixes%3D-instance_method" title="RDF::Writer#prefixes= (method)">#prefixes=</a></span>, <span class='object_link'><a href="../Writer.html#puts-instance_method" title="RDF::Writer#puts (method)">#puts</a></span>, <span class='object_link'><a href="../Writer.html#quoted-instance_method" title="RDF::Writer#quoted (method)">#quoted</a></span>, <span class='object_link'><a href="../Writer.html#to_sym-instance_method" title="RDF::Writer#to_sym (method)">#to_sym</a></span>, <span class='object_link'><a href="../Writer.html#to_sym-class_method" title="RDF::Writer.to_sym (method)">to_sym</a></span>, <span class='object_link'><a href="../Writer.html#uri_for-instance_method" title="RDF::Writer#uri_for (method)">#uri_for</a></span>, <span class='object_link'><a href="../Writer.html#write_comment-instance_method" title="RDF::Writer#write_comment (method)">#write_comment</a></span>, <span class='object_link'><a href="../Writer.html#write_prologue-instance_method" title="RDF::Writer#write_prologue (method)">#write_prologue</a></span>, <span class='object_link'><a href="../Writer.html#write_statements-instance_method" title="RDF::Writer#write_statements (method)">#write_statements</a></span>, <span class='object_link'><a href="../Writer.html#write_triples-instance_method" title="RDF::Writer#write_triples (method)">#write_triples</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Util/Aliasing/LateBound.html" title="RDF::Util::Aliasing::LateBound (module)">Util::Aliasing::LateBound</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Util/Aliasing/LateBound.html#alias_method-instance_method" title="RDF::Util::Aliasing::LateBound#alias_method (method)">#alias_method</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Writable.html" title="RDF::Writable (module)">Writable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writable.html#%3C%3C-instance_method" title="RDF::Writable#&lt;&lt; (method)">#<<</a></span>, <span class='object_link'><a href="../Writable.html#insert-instance_method" title="RDF::Writable#insert (method)">#insert</a></span>, <span class='object_link'><a href="../Writable.html#insert_graph-instance_method" title="RDF::Writable#insert_graph (method)">#insert_graph</a></span>, <span class='object_link'><a href="../Writable.html#insert_reader-instance_method" title="RDF::Writable#insert_reader (method)">#insert_reader</a></span>, <span class='object_link'><a href="../Writable.html#insert_statement-instance_method" title="RDF::Writable#insert_statement (method)">#insert_statement</a></span>, <span class='object_link'><a href="../Writable.html#insert_statements-instance_method" title="RDF::Writable#insert_statements (method)">#insert_statements</a></span>, <span class='object_link'><a href="../Writable.html#writable%3F-instance_method" title="RDF::Writable#writable? (method)">#writable?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RDF::RDFXML::Writer (class)">Writer</a></span></tt>) <strong>initialize</strong>(output = $stdout, options = {}) {|writer| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Initializes the RDF/XML writer instance.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>output</span>
      
      
        <span class='type'>(<tt>IO</tt>, <tt>File</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$stdout</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the output stream</p></div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>any additional options</p></div>
      
    </li>
  
</ul>

  
    
    
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="name">:canonicalize</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          &mdash; <div class='inline'><p>whether to canonicalize literals when serializing</p></div>
        </li>
      
        <li>
          <span class="name">:prefixes</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Hash.new</tt>
            
          </span>
          &mdash; <div class='inline'><p>the prefix mappings to use (not supported by all writers)</p></div>
        </li>
      
        <li>
          <span class="name">:base_uri</span>
          <span class="type">(<tt>#to_s</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>the base URI to use when constructing relative URIs</p></div>
        </li>
      
        <li>
          <span class="name">:max_depth</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>3</tt>
            
          </span>
          &mdash; <div class='inline'><p>Maximum depth for recursively defining resources</p></div>
        </li>
      
        <li>
          <span class="name">:lang</span>
          <span class="type">(<tt>#to_s</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>Output as root xml:lang attribute, and avoid generation <em>xml:lang</em> where possible</p></div>
        </li>
      
        <li>
          <span class="name">:attributes</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>How to use XML attributes when serializing, one of :none, :untyped, :typed. The default is :none.</p></div>
        </li>
      
        <li>
          <span class="name">:standard_prefixes</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          &mdash; <div class='inline'><p>Add standard prefixes to <em>prefixes</em>, if necessary.</p></div>
        </li>
      
        <li>
          <span class="name">:default_namespace</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          &mdash; <div class='inline'><p>URI to use as default namespace, same as prefix(nil)</p></div>
        </li>
      
    </ul>
  

<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>writer</tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>writer</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">RDF::Writer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 86</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_output identifier id'>output</span> <span class='assign token'>=</span> <span class='rubyid_$stdout gvar id'>$stdout</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_super super kw'>super</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_@graph ivar id'>@graph</span> <span class='assign token'>=</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Graph constant id'>Graph</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>
    <span class='rubyid_@uri_to_qname ivar id'>@uri_to_qname</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="base_uri=-instance_method"></span>
      <span id="base_uri-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="base_uri-instance_method">
  
    - (<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span></tt>) <strong>base_uri</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Base URI used for relativizing URIs</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Base URI used for relativizing URIs</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 59</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_base_uri identifier id'>base_uri</span>
  <span class='rubyid_@base_uri ivar id'>@base_uri</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="graph=-instance_method"></span>
      <span id="graph-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="graph-instance_method">
  
    - (<tt><span class='object_link'><a href="../Graph.html" title="RDF::Graph (class)">Graph</a></span></tt>) <strong>graph</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Graph of statements serialized</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Graph.html" title="RDF::Graph (class)">Graph</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Graph of statements serialized</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 57</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_graph identifier id'>graph</span>
  <span class='rubyid_@graph ivar id'>@graph</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="get_qname-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>get_qname</strong>(resource, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Return a QName for the URI, or nil. Adds namespace of QName to defined prefixes</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>resource</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span></tt>, <tt>#to_s</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash&lt;<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>[Boolean]</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a customizable set of options</p></div>
      
    </li>
  
</ul>

  
    
    
    
    

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>value to use to identify URI</p></div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../WriterError.html" title="RDF::WriterError (class)">RDF::WriterError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 178</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_qname identifier id'>get_qname</span><span class='lparen token'>(</span><span class='rubyid_resource identifier id'>resource</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_resource identifier id'>resource</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span>
    <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;qname(#{resource.inspect}): #{resource}&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_resource identifier id'>resource</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_URI constant id'>URI</span>
    <span class='rubyid_uri identifier id'>uri</span> <span class='assign token'>=</span> <span class='rubyid_resource identifier id'>resource</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;qname(#{resource.inspect}): nil&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_qname identifier id'>qname</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:with_default</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_index identifier id'>index</span><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='comment val'># Don't cache</span>
    <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;qname(#{resource.inspect}): #{uri.sub(prefix(nil), '').inspect} (default)&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_sub identifier id'>sub</span><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_@uri_to_qname ivar id'>@uri_to_qname</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='rubyid_uri identifier id'>uri</span><span class='rparen token'>)</span>
    <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;qname(#{resource.inspect}): #{@uri_to_qname[uri].inspect} (cached)&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_@uri_to_qname ivar id'>@uri_to_qname</span><span class='lbrack token'>[</span><span class='rubyid_uri identifier id'>uri</span><span class='rbrack token'>]</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_u identifier id'>u</span> <span class='assign token'>=</span> <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span><span class='rubyid_detect identifier id'>detect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_u identifier id'>u</span><span class='bitor op'>|</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_index identifier id'>index</span><span class='lparen token'>(</span><span class='rubyid_u identifier id'>u</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_NC_REGEXP constant id'>NC_REGEXP</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='rubyid_uri identifier id'>uri</span><span class='lbrack token'>[</span><span class='rubyid_u identifier id'>u</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='comment val'># Use a defined prefix</span>
    <span class='rubyid_prefix identifier id'>prefix</span> <span class='assign token'>=</span> <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span><span class='lbrack token'>[</span><span class='rubyid_u identifier id'>u</span><span class='rbrack token'>]</span>
    <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span><span class='comma token'>,</span> <span class='rubyid_u identifier id'>u</span><span class='rparen token'>)</span>  <span class='comment val'># Define for output</span>
    <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_sub identifier id'>sub</span><span class='lparen token'>(</span><span class='rubyid_u identifier id'>u</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{prefix}:&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:standard_prefixes</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_vocab identifier id'>vocab</span> <span class='assign token'>=</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Vocabulary constant id'>Vocabulary</span><span class='dot token'>.</span><span class='rubyid_detect identifier id'>detect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_index identifier id'>index</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_NC_REGEXP constant id'>NC_REGEXP</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='rubyid_uri identifier id'>uri</span><span class='lbrack token'>[</span><span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='rubyid_prefix identifier id'>prefix</span> <span class='assign token'>=</span> <span class='rubyid_vocab identifier id'>vocab</span><span class='dot token'>.</span><span class='rubyid___name__ identifier id'>__name__</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'::'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span>
    <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span><span class='lbrack token'>[</span><span class='rubyid_vocab identifier id'>vocab</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_prefix identifier id'>prefix</span>
    <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span><span class='comma token'>,</span> <span class='rubyid_vocab identifier id'>vocab</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='rparen token'>)</span> <span class='comment val'># Define for output</span>
    <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_sub identifier id'>sub</span><span class='lparen token'>(</span><span class='rubyid_vocab identifier id'>vocab</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{prefix}:&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    
    <span class='comment val'># No vocabulary found, invent one</span>
    <span class='comment val'># Add bindings for predicates not already having bindings</span>
    <span class='comment val'># From RDF/XML Syntax and Processing:</span>
    <span class='comment val'>#   An XML namespace-qualified name (QName) has restrictions on the legal characters such that not all</span>
    <span class='comment val'>#   property URIs can be expressed as these names. It is recommended that implementors of RDF serializers,</span>
    <span class='comment val'>#   in order to break a URI into a namespace name and a local name, split it after the last XML non-NCName</span>
    <span class='comment val'>#   character, ensuring that the first character of the name is a Letter or '_'. If the URI ends in a</span>
    <span class='comment val'>#   non-NCName character then throw a &quot;this graph cannot be serialized in RDF/XML&quot; exception or error.</span>
    <span class='rubyid_separation identifier id'>separation</span> <span class='assign token'>=</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='regexp val'>%r{[^a-zA-Z_0-9-][a-zA-Z_][a-z0-9A-Z_-]*$}</span><span class='rparen token'>)</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_@uri_to_qname ivar id'>@uri_to_qname</span><span class='lbrack token'>[</span><span class='rubyid_uri identifier id'>uri</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_separation identifier id'>separation</span>
    <span class='rubyid_base_uri identifier id'>base_uri</span> <span class='assign token'>=</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='rubyid_separation identifier id'>separation</span><span class='rbrack token'>]</span>
    <span class='rubyid_suffix identifier id'>suffix</span> <span class='assign token'>=</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='lbrack token'>[</span><span class='rubyid_separation identifier id'>separation</span><span class='plus op'>+</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
    <span class='rubyid_@gen_prefix ivar id'>@gen_prefix</span> <span class='assign token'>=</span> <span class='rubyid_@gen_prefix ivar id'>@gen_prefix</span> <span class='question op'>?</span> <span class='rubyid_@gen_prefix ivar id'>@gen_prefix</span><span class='dot token'>.</span><span class='rubyid_succ identifier id'>succ</span> <span class='colon op'>:</span> <span class='string val'>&quot;ns0&quot;</span>
    <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span><span class='lbrack token'>[</span><span class='rubyid_base_uri identifier id'>base_uri</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_@gen_prefix ivar id'>@gen_prefix</span>
    <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_@gen_prefix ivar id'>@gen_prefix</span><span class='comma token'>,</span> <span class='rubyid_base_uri identifier id'>base_uri</span><span class='rparen token'>)</span>
    <span class='dstring node'>&quot;#{@gen_prefix}:#{suffix}&quot;</span>
  <span class='rubyid_end end kw'>end</span>
  
  <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;qname(#{resource.inspect}): #{qname.inspect}&quot;</span><span class='rbrace token'>}</span>
  <span class='rubyid_@uri_to_qname ivar id'>@uri_to_qname</span><span class='lbrack token'>[</span><span class='rubyid_uri identifier id'>uri</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_qname identifier id'>qname</span>
<span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='rubyid_URI constant id'>URI</span><span class='colon2 op'>::</span><span class='rubyid_InvalidURIError constant id'>InvalidURIError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_e identifier id'>e</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_WriterError constant id'>WriterError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Invalid URI #{uri.inspect}: #{e.message}&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="indent-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>) <strong>indent</strong>(modifier = 0)  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns indent string multiplied by the depth</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>modifier</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>0</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Increase depth by specified amount</p></div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A number of spaces, depending on current depth</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 308</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_indent identifier id'>indent</span><span class='lparen token'>(</span><span class='rubyid_modifier identifier id'>modifier</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='string val'>&quot; &quot;</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='rubyid_@depth ivar id'>@depth</span> <span class='plus op'>+</span> <span class='rubyid_modifier identifier id'>modifier</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="order_subjects-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">Resource</a></span>&gt;</tt>) <strong>order_subjects</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Order subjects for output. Override this to output subjects in another order.</p>

<p>Uses top_classes</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Ordered list of subjects</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 256</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_order_subjects identifier id'>order_subjects</span>
  <span class='rubyid_seen identifier id'>seen</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_subjects identifier id'>subjects</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  
  <span class='rubyid_top_classes identifier id'>top_classes</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_class_uri identifier id'>class_uri</span><span class='bitor op'>|</span>
    <span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_query identifier id'>query</span><span class='lparen token'>(</span><span class='symbol val'>:predicate</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_RDF constant id'>RDF</span><span class='dot token'>.</span><span class='rubyid_type identifier id'>type</span><span class='comma token'>,</span> <span class='symbol val'>:object</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_class_uri identifier id'>class_uri</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_st identifier id'>st</span><span class='bitor op'>|</span> <span class='rubyid_st identifier id'>st</span><span class='dot token'>.</span><span class='rubyid_subject identifier id'>subject</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_sort identifier id'>sort</span><span class='dot token'>.</span><span class='rubyid_uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_subject identifier id'>subject</span><span class='bitor op'>|</span>
      <span class='comment val'>#add_debug &quot;{order_subjects: #{subject.inspect}&quot;}</span>
      <span class='rubyid_subjects identifier id'>subjects</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_subject identifier id'>subject</span>
      <span class='rubyid_seen identifier id'>seen</span><span class='lbrack token'>[</span><span class='rubyid_subject identifier id'>subject</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_@top_levels ivar id'>@top_levels</span><span class='lbrack token'>[</span><span class='rubyid_subject identifier id'>subject</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  
  <span class='comment val'># Sort subjects by resources over bnodes, ref_counts and the subject URI itself</span>
  <span class='rubyid_recursable identifier id'>recursable</span> <span class='assign token'>=</span> <span class='rubyid_@subjects ivar id'>@subjects</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span>
    <span class='rubyid_select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_s identifier id'>s</span><span class='bitor op'>|</span> <span class='notop op'>!</span><span class='rubyid_seen identifier id'>seen</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_s identifier id'>s</span><span class='rparen token'>)</span><span class='rbrace token'>}</span><span class='dot token'>.</span>
    <span class='rubyid_map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_r identifier id'>r</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='lparen token'>(</span><span class='rubyid_r identifier id'>r</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='integer val'>1</span> <span class='colon op'>:</span> <span class='integer val'>0</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='rubyid_ref_count identifier id'>ref_count</span><span class='lparen token'>(</span><span class='rubyid_r identifier id'>r</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='rubyid_r identifier id'>r</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span><span class='dot token'>.</span>
    <span class='rubyid_sort_by identifier id'>sort_by</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_l identifier id'>l</span><span class='bitor op'>|</span> <span class='rubyid_l identifier id'>l</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span> <span class='rbrace token'>}</span>
  
  <span class='rubyid_subjects identifier id'>subjects</span> <span class='opasgn op'>+=</span> <span class='rubyid_recursable identifier id'>recursable</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_r identifier id'>r</span><span class='bitor op'>|</span> <span class='rubyid_r identifier id'>r</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="predicate_order-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span>&gt;</tt>) <strong>predicate_order</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Defines order of predicates to to emit at begninning of a resource description. Defaults to
[rdf:type, rdfs:label, dc:title]</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 250</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_predicate_order identifier id'>predicate_order</span><span class='semicolon token'>;</span> <span class='lbrack token'>[</span><span class='rubyid_RDF constant id'>RDF</span><span class='dot token'>.</span><span class='rubyid_type identifier id'>type</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_RDFS constant id'>RDFS</span><span class='dot token'>.</span><span class='rubyid_label identifier id'>label</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_DC constant id'>DC</span><span class='dot token'>.</span><span class='rubyid_title identifier id'>title</span><span class='rbrack token'>]</span> <span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="preprocess-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>preprocess</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Perform any preprocessing of statements required</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 278</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_preprocess identifier id'>preprocess</span>
  <span class='rubyid_default_namespace identifier id'>default_namespace</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:default_namespace</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='comment val'># Load defined prefixes</span>
  <span class='lparen token'>(</span><span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:prefixes</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each_pair identifier id'>each_pair</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_k identifier id'>k</span><span class='comma token'>,</span> <span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='rubyid_@uri_to_prefix ivar id'>@uri_to_prefix</span><span class='lbrack token'>[</span><span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_k identifier id'>k</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:prefixes</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>  <span class='comment val'># Will define actual used when matched</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_default_namespace identifier id'>default_namespace</span>
    <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;preprocess: default_namespace: #{default_namespace}&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_default_namespace identifier id'>default_namespace</span><span class='rparen token'>)</span> 
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_@graph ivar id'>@graph</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_statement identifier id'>statement</span><span class='bitor op'>|</span> <span class='rubyid_preprocess_statement identifier id'>preprocess_statement</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="preprocess_statement-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>preprocess_statement</strong>(statement)  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Perform any statement preprocessing required. This is used to perform reference counts and determine required
prefixes.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>statement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Statement.html" title="RDF::Statement (class)">Statement</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 298</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_preprocess_statement identifier id'>preprocess_statement</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='rparen token'>)</span>
  <span class='comment val'>#add_debug {&quot;preprocess: #{statement.inspect}&quot;}</span>
  <span class='rubyid_references identifier id'>references</span> <span class='assign token'>=</span> <span class='rubyid_ref_count identifier id'>ref_count</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='dot token'>.</span><span class='rubyid_object identifier id'>object</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
  <span class='rubyid_@references ivar id'>@references</span><span class='lbrack token'>[</span><span class='rubyid_statement identifier id'>statement</span><span class='dot token'>.</span><span class='rubyid_object identifier id'>object</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_references identifier id'>references</span>
  <span class='rubyid_@subjects ivar id'>@subjects</span><span class='lbrack token'>[</span><span class='rubyid_statement identifier id'>statement</span><span class='dot token'>.</span><span class='rubyid_subject identifier id'>subject</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="relativize-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>) <strong>relativize</strong>(uri)  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>If base_uri is defined, use it to try to make uri relative</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>uri</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 238</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_relativize identifier id'>relativize</span><span class='lparen token'>(</span><span class='rubyid_uri identifier id'>uri</span><span class='rparen token'>)</span>
  <span class='rubyid_uri identifier id'>uri</span> <span class='assign token'>=</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
  <span class='rubyid_base_uri identifier id'>base_uri</span> <span class='integer val'>? </span><span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_sub identifier id'>sub</span><span class='lparen token'>(</span><span class='rubyid_base_uri identifier id'>base_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='rubyid_uri identifier id'>uri</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reset-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>reset</strong>  <span class="extras">(protected)</span>
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315
316
317
318
319
320</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 312</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_reset identifier id'>reset</span>
  <span class='rubyid_@depth ivar id'>@depth</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='rubyid_@lists ivar id'>@lists</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_prefixes identifier id'>prefixes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@references ivar id'>@references</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@serialized ivar id'>@serialized</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@subjects ivar id'>@subjects</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@top_levels ivar id'>@top_levels</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="top_classes-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span>&gt;</tt>) <strong>top_classes</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Defines rdf:type of subjects to be emitted at the beginning of the graph. Defaults to none</p>

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 245</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_top_classes identifier id'>top_classes</span><span class='semicolon token'>;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_epilogue-instance_method">
  
    - <strong>write_epilogue</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Outputs the RDF/XML representation of all stored triples.</p>

  </div>
</div>
<div class="tags">
  
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../WriterError.html" title="RDF::WriterError (class)">RDF::WriterError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when attempting to write non-conformant graph</p></div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#write_triple-instance_method" title="RDF::RDFXML::Writer#write_triple (method)">#write_triple</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 129</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_write_epilogue identifier id'>write_epilogue</span>
  <span class='rubyid_@force_RDF_about ivar id'>@force_RDF_about</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@max_depth ivar id'>@max_depth</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:max_depth</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='integer val'>3</span>
  <span class='rubyid_@base_uri ivar id'>@base_uri</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:base_uri</span><span class='rbrack token'>]</span>
  <span class='rubyid_@lang ivar id'>@lang</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:lang</span><span class='rbrack token'>]</span>
  <span class='rubyid_@attributes ivar id'>@attributes</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:attributes</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='symbol val'>:none</span>
  <span class='rubyid_@debug ivar id'>@debug</span> <span class='assign token'>=</span> <span class='rubyid_@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:debug</span><span class='rbrack token'>]</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_WriterError constant id'>WriterError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Invalid attribute option '#{@attributes}', should be one of #{VALID_ATTRIBUTES.to_sentence}&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_VALID_ATTRIBUTES constant id'>VALID_ATTRIBUTES</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_@attributes ivar id'>@attributes</span><span class='dot token'>.</span><span class='rubyid_to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_reset identifier id'>reset</span>

  <span class='rubyid_doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>

  <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;\nserialize: graph of size #{@graph.size}&quot;</span><span class='rbrace token'>}</span>
  <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;options: #{@options.inspect}&quot;</span><span class='rbrace token'>}</span>

  <span class='rubyid_preprocess identifier id'>preprocess</span>

  <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='symbol val'>:rdf</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='dot token'>.</span><span class='rubyid_to_uri identifier id'>to_uri</span><span class='rparen token'>)</span>
  <span class='rubyid_prefix identifier id'>prefix</span><span class='lparen token'>(</span><span class='symbol val'>:xml</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_base_uri identifier id'>base_uri</span> <span class='orop op'>||</span> <span class='rubyid_@lang ivar id'>@lang</span>
  
  <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;\nserialize: graph namespaces: #{prefixes.inspect}&quot;</span><span class='rbrace token'>}</span>
  
  <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span> <span class='assign token'>=</span> <span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_Element constant id'>Element</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;rdf:RDF&quot;</span><span class='comma token'>,</span> <span class='rubyid_doc identifier id'>doc</span><span class='rparen token'>)</span>
  <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='lbrack token'>[</span><span class='string val'>&quot;xml:lang&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_@lang ivar id'>@lang</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@lang ivar id'>@lang</span>
  <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='lbrack token'>[</span><span class='string val'>&quot;xml:base&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_base_uri identifier id'>base_uri</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_base_uri identifier id'>base_uri</span>
  
  <span class='comment val'># Add statements for each subject</span>
  <span class='rubyid_order_subjects identifier id'>order_subjects</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_subject identifier id'>subject</span><span class='bitor op'>|</span>
    <span class='comment val'>#add_debug &quot;{subj: #{subject.inspect}&quot;}</span>
    <span class='rubyid_subject identifier id'>subject</span><span class='lparen token'>(</span><span class='rubyid_subject identifier id'>subject</span><span class='comma token'>,</span> <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_prefixes identifier id'>prefixes</span><span class='dot token'>.</span><span class='rubyid_each_pair identifier id'>each_pair</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_p identifier id'>p</span><span class='comma token'>,</span> <span class='rubyid_uri identifier id'>uri</span><span class='bitor op'>|</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_p identifier id'>p</span> <span class='eq op'>==</span> <span class='rubyid_nil nil kw'>nil</span>
      <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_default_namespace identifier id'>default_namespace</span> <span class='assign token'>=</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_add_namespace identifier id'>add_namespace</span><span class='lparen token'>(</span><span class='rubyid_p identifier id'>p</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='rubyid_uri identifier id'>uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_add_debug identifier id'>add_debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;doc:\n #{doc.to_xml(:encoding =&gt; &quot;UTF-8&quot;, :indent =&gt; 2)}&quot;</span><span class='rbrace token'>}</span>
  <span class='rubyid_doc identifier id'>doc</span><span class='dot token'>.</span><span class='rubyid_write_xml_to identifier id'>write_xml_to</span><span class='lparen token'>(</span><span class='rubyid_@output ivar id'>@output</span><span class='comma token'>,</span> <span class='symbol val'>:encoding</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;UTF-8&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:indent</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_graph-instance_method">
  
    - <strong>write_graph</strong>(graph) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Write whole graph</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>graph</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Graph.html" title="RDF::Graph (class)">Graph</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 100</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_write_graph identifier id'>write_graph</span><span class='lparen token'>(</span><span class='rubyid_graph identifier id'>graph</span><span class='rparen token'>)</span>
  <span class='rubyid_@graph ivar id'>@graph</span> <span class='assign token'>=</span> <span class='rubyid_graph identifier id'>graph</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_statement-instance_method">
  
    - <strong>write_statement</strong>(statement) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Addes a statement to be serialized</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>statement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Statement.html" title="RDF::Statement (class)">RDF::Statement</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 108</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_write_statement identifier id'>write_statement</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='rparen token'>)</span>
  <span class='rubyid_@graph ivar id'>@graph</span><span class='dot token'>.</span><span class='rubyid_insert identifier id'>insert</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_triple-instance_method">
  
    - <strong>write_triple</strong>(subject, predicate, object) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This method is abstract.</strong> 
  <div class='inline'></div>
</div>
<p class="note returns_void">This method returns an undefined value.</p><p>Addes a triple to be serialized</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>subject</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>predicate</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Value.html" title="RDF::Value (module)">RDF::Value</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfxml-b0850defb277/lib/rdf/rdfxml/writer.rb', line 119</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_write_triple identifier id'>write_triple</span><span class='lparen token'>(</span><span class='rubyid_subject identifier id'>subject</span><span class='comma token'>,</span> <span class='rubyid_predicate identifier id'>predicate</span><span class='comma token'>,</span> <span class='rubyid_object identifier id'>object</span><span class='rparen token'>)</span>
  <span class='rubyid_@graph ivar id'>@graph</span><span class='dot token'>.</span><span class='rubyid_insert identifier id'>insert</span><span class='lparen token'>(</span><span class='rubyid_Statement constant id'>Statement</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_subject identifier id'>subject</span><span class='comma token'>,</span> <span class='rubyid_predicate identifier id'>predicate</span><span class='comma token'>,</span> <span class='rubyid_object identifier id'>object</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Mar 20 13:03:24 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.8.7).
</div>

  </body>
</html>