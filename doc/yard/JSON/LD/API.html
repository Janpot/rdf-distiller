<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: JSON::LD::API
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../JSON.html" title="JSON (module)">JSON</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../LD.html" title="JSON::LD (module)">LD</a></span></span>
     &raquo; 
    <span class="title">API</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: JSON::LD::API
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">JSON::LD::API</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Compact.html" title="JSON::LD::Compact (module)">Compact</a></span>, <span class='object_link'><a href="Expand.html" title="JSON::LD::Expand (module)">Expand</a></span>, <span class='object_link'><a href="Flatten.html" title="JSON::LD::Flatten (module)">Flatten</a></span>, <span class='object_link'><a href="Frame.html" title="JSON::LD::Frame (module)">Frame</a></span>, <span class='object_link'><a href="FromRDF.html" title="JSON::LD::FromRDF (module)">FromRDF</a></span>, <span class='object_link'><a href="ToRDF.html" title="JSON::LD::ToRDF (module)">ToRDF</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A JSON-LD processor implementing the JsonLdProcessor interface.</p>

<p>This API provides a clean mechanism that enables developers to convert JSON-LD data into a a variety of output formats that
are easier to work with in various programming languages. If a JSON-LD API is provided in a programming environment, the
entirety of the following API must be implemented.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://json-ld.org/spec/latest/json-ld-api/#the-application-programming-interface" target="_parent" title="http://json-ld.org/spec/latest/json-ld-api/#the-application-programming-interface">http://json-ld.org/spec/latest/json-ld-api/#the-application-programming-interface</a></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p><a href="http://greggkellogg.net/">Gregg Kellogg</a></p>
</div>
      
    </li>
  
</ul>

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="OPEN_OPTS-constant" class="">OPEN_OPTS =
          <div class="docstring">
  <div class="discussion">
    <p>Options used for open_file</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span>
  <span class='symbol val'>:headers</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w(Accept: application/ld+json, application/json)</span>
<span class='rbrace token'>}</span>
</pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">- (JSON::LD::EvaluationContext) <strong>context</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Input evaluation context.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#input-instance_method" title="#input (instance method)">- (String, ...) <strong>input</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Current input.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#namer-instance_method" title="#namer (instance method)">- (JSON::LD::BlankNodeNamer) <strong>namer</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Current Blank Node Namer.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#value-instance_method" title="#value (instance method)">- (String, ...) <strong>value</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Current input.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compact-class_method" title="compact (class method)">+ (Hash) <strong>compact</strong>(input, context, callback = nil, options = {}) {|jsonld| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Compacts the given input according to the steps in the Compaction Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand-class_method" title="expand (class method)">+ (Array&lt;Hash&gt;) <strong>expand</strong>(input, context = nil, callback = nil, options = {}) {|jsonld| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Expands the given input according to the steps in the Expansion Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten-class_method" title="flatten (class method)">+ (Array&lt;Hash&gt;) <strong>flatten</strong>(input, graph, context, callback = nil, options = {}) {|jsonld| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Flattens the given input according to the steps in the Flattening Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frame-class_method" title="frame (class method)">+ (Array&lt;Hash&gt;) <strong>frame</strong>(input, frame, callback = nil, options = {}) {|jsonld| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Frames the given input using the frame according to the steps in the Framing Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fromRDF-class_method" title="fromRDF (class method)">+ (Array&lt;Hash&gt;) <strong>fromRDF</strong>(input, callback = nil, options = {}) {|jsonld| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Take an ordered list of RDF::Statements and turn them into a JSON-LD document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#toRDF-class_method" title="toRDF (class method)">+ (Array&lt;RDF::Statement&gt;) <strong>toRDF</strong>(input, context = nil, callback = nil, options = {}) {|statement| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Processes the input according to the RDF Conversion Algorithm, calling the provided callback for each triple generated.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (API) <strong>initialize</strong>(input, context, options = {}) {|api| ... }</a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initialize the API, reading in any document and setting global options.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Frame.html" title="JSON::LD::Frame (module)">Frame</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Frame.html#cleanup_preserve-instance_method" title="JSON::LD::Frame#cleanup_preserve (method)">#cleanup_preserve</a></span>, <span class='object_link'><a href="Frame.html#frame-instance_method" title="JSON::LD::Frame#frame (method)">#frame</a></span>, <span class='object_link'><a href="Frame.html#remove_dependents-instance_method" title="JSON::LD::Frame#remove_dependents (method)">#remove_dependents</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Utils.html" title="JSON::LD::Utils (module)">Utils</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Utils.html#annotation%3F-instance_method" title="JSON::LD::Utils#annotation? (method)">#annotation?</a></span>, <span class='object_link'><a href="Utils.html#blank_node%3F-instance_method" title="JSON::LD::Utils#blank_node? (method)">#blank_node?</a></span>, <span class='object_link'><a href="Utils.html#list%3F-instance_method" title="JSON::LD::Utils#list? (method)">#list?</a></span>, <span class='object_link'><a href="Utils.html#node%3F-instance_method" title="JSON::LD::Utils#node? (method)">#node?</a></span>, <span class='object_link'><a href="Utils.html#node_reference%3F-instance_method" title="JSON::LD::Utils#node_reference? (method)">#node_reference?</a></span>, <span class='object_link'><a href="Utils.html#value%3F-instance_method" title="JSON::LD::Utils#value? (method)">#value?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="FromRDF.html" title="JSON::LD::FromRDF (module)">FromRDF</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="FromRDF.html#from_statements-instance_method" title="JSON::LD::FromRDF#from_statements (method)">#from_statements</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Flatten.html" title="JSON::LD::Flatten (module)">Flatten</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Flatten.html#generate_node_map-instance_method" title="JSON::LD::Flatten#generate_node_map (method)">#generate_node_map</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ToRDF.html" title="JSON::LD::ToRDF (module)">ToRDF</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ToRDF.html#add_quad-instance_method" title="JSON::LD::ToRDF#add_quad (method)">#add_quad</a></span>, <span class='object_link'><a href="ToRDF.html#node-instance_method" title="JSON::LD::ToRDF#node (method)">#node</a></span>, <span class='object_link'><a href="ToRDF.html#parse_list-instance_method" title="JSON::LD::ToRDF#parse_list (method)">#parse_list</a></span>, <span class='object_link'><a href="ToRDF.html#statements-instance_method" title="JSON::LD::ToRDF#statements (method)">#statements</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Compact.html" title="JSON::LD::Compact (module)">Compact</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Compact.html#compact-instance_method" title="JSON::LD::Compact#compact (method)">#compact</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Expand.html" title="JSON::LD::Expand (module)">Expand</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Expand.html#expand-instance_method" title="JSON::LD::Expand#expand (method)">#expand</a></span>, <span class='object_link'><a href="Expand.html#label_blanknodes-instance_method" title="JSON::LD::Expand#label_blanknodes (method)">#label_blanknodes</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="JSON::LD::API (class)">API</a></span></tt>) <strong>initialize</strong>(input, context, options = {}) {|api| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Initialize the API, reading in any document and setting global options</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt></tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An external context to use additionally to the context embedded in input when expanding the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:base</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The Base IRI to use when expanding the document. This overrides the value of <code>input</code> if it is a <em>IRI</em>. If not specified and <code>input</code> is not an <em>IRI</em>, the base IRI defaults to the current document IRI if in a browser context, or the empty string if there is no document context.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:compactArrays</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>If set to <code>true</code>, the JSON-LD processor replaces arrays with just one element with that element during compaction. If set to <code>false</code>, all arrays will remain arrays even if they have just one element.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:conformanceCallback</span>
          <span class="type">(<tt>Proc</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The purpose of this option is to instruct the processor about whether or not it should continue processing. If the value is null, the processor should ignore any key-value pair associated with any recoverable conformance issue and continue processing. More details about this feature can be found in the ConformanceCallback section.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:flatten</span>
          <span class="type">(<tt>Boolean</tt>, <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../RDF/URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>If set to a value that is not <code>false</code>, the JSON-LD processor must modify the output of the Compaction Algorithm or the Expansion Algorithm by coalescing all properties associated with each subject via the Flattening Algorithm. The value of <code>flatten must</code> be either an <em>IRI</em> value representing the name of the graph to flatten, or <code>true</code>. If the value is <code>true</code>, then the first graph encountered in the input document is selected and flattened.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:optimize</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>If set to <code>true</code>, the JSON-LD processor is allowed to optimize the output of the Compaction Algorithm to produce even compacter representations. The algorithm for compaction optimization is beyond the scope of this specification and thus not defined. Consequently, different implementations <em>MAY</em> implement different optimization algorithms.
(Presently, this is a noop).</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:useNativeTypes</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>If set to <code>true</code>, the JSON-LD processor will use native datatypes for expression xsd:integer, xsd:boolean, and xsd:double values, otherwise, it will use the expanded form.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:useRdfType</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>If set to <code>true</code>, the JSON-LD processor will try to convert datatyped literals to JSON native types instead of using the expanded object form when converting from RDF. <code>xsd:boolean</code> values will be converted to <code>true</code> or <code>false</code>. <code>xsd:integer</code> and <code>xsd:double</code> values will be converted to JSON numbers.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:rename_bnodes</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Rename bnodes as part of expansion, or keep them the same.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>api</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="JSON::LD::API (class)">API</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 73</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:compactArrays</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:rename_bnodes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_@namer ivar id'>@namer</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:rename_bnodes</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='rubyid_BlankNodeNamer constant id'>BlankNodeNamer</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;t&quot;</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='rubyid_BlankNodeMapper constant id'>BlankNodeMapper</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>
  <span class='rubyid_@value ivar id'>@value</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_input identifier id'>input</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_Array constant id'>Array</span><span class='comma token'>,</span> <span class='rubyid_Hash constant id'>Hash</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_dup identifier id'>dup</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_IO constant id'>IO</span><span class='comma token'>,</span> <span class='rubyid_StringIO constant id'>StringIO</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_JSON constant id'>JSON</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_read identifier id'>read</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_String constant id'>String</span>
    <span class='rubyid_content identifier id'>content</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:base</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_input identifier id'>input</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_@options ivar id'>@options</span><span class='rparen token'>)</span>
    <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_File constant id'>File</span><span class='dot token'>.</span><span class='rubyid_open_file identifier id'>open_file</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_OPEN_OPTS constant id'>OPEN_OPTS</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_content identifier id'>content</span> <span class='assign token'>=</span> <span class='rubyid_JSON constant id'>JSON</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_f identifier id'>f</span><span class='dot token'>.</span><span class='rubyid_read identifier id'>read</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='rubyid_content identifier id'>content</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_@context ivar id'>@context</span> <span class='assign token'>=</span> <span class='rubyid_EvaluationContext constant id'>EvaluationContext</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_@options ivar id'>@options</span><span class='rparen token'>)</span>
  <span class='rubyid_@context ivar id'>@context</span> <span class='assign token'>=</span> <span class='rubyid_@context ivar id'>@context</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_context identifier id'>context</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_context identifier id'>context</span>
  
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
    <span class='rubyid_case case kw'>case</span> <span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_arity identifier id'>arity</span>
      <span class='rubyid_when when kw'>when</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>-1</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_instance_eval identifier id'>instance_eval</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
      <span class='rubyid_else else kw'>else</span> <span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="context=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="context-instance_method">
  
    - (<tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>) <strong>context</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Input evaluation context</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 40</span>

<span class='rubyid_attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:context</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="input=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="input-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, ...) <strong>input</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Current input</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 35</span>

<span class='rubyid_attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:value</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="namer-instance_method">
  
    - (<tt><span class='object_link'><a href="BlankNodeNamer.html" title="JSON::LD::BlankNodeNamer (class)">JSON::LD::BlankNodeNamer</a></span></tt>) <strong>namer</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Current Blank Node Namer</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="BlankNodeNamer.html" title="JSON::LD::BlankNodeNamer (class)">JSON::LD::BlankNodeNamer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 45</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_namer identifier id'>namer</span>
  <span class='rubyid_@namer ivar id'>@namer</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="value=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="value-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, ...) <strong>value</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Current input</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 35</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_value identifier id'>value</span>
  <span class='rubyid_@value ivar id'>@value</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="compact-class_method">
  
    + (<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>) <strong>compact</strong>(input, context, callback = nil, options = {}) {|jsonld| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Compacts the given input according to the steps in the Compaction Algorithm. The input must be copied, compacted and
returned if there are no errors. If the compaction fails, an appropirate exception must be thrown.</p>

<p>If no context is provided, the input document is compacted using the top-level context of the document</p>

<p>The resulting <code>Hash</code> is returned via the provided callback.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD object to copy and perform the compaction upon.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The base context to use when compacting the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameters.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span>
Other options passed to <span class='object_link'><a href="#expand-class_method" title="JSON::LD::API.expand (method)">expand</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The compacted JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The compacted JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidContext.html" title="JSON::LD::InvalidContext (class)">InvalidContext</a></span></tt>, <tt><span class='object_link'><a href="ProcessingError.html" title="JSON::LD::ProcessingError (class)">ProcessingError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://json-ld.org/spec/latest/json-ld-api/#compaction-algorithm" target="_parent" title="http://json-ld.org/spec/latest/json-ld-api/#compaction-algorithm">http://json-ld.org/spec/latest/json-ld-api/#compaction-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 163</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_expanded identifier id'>expanded</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>

  <span class='comment val'># 1) Perform the Expansion Algorithm on the JSON-LD input.</span>
  <span class='comment val'>#    This removes any existing context to allow the given context to be cleanly applied.</span>
  <span class='rubyid_expanded identifier id'>expanded</span> <span class='assign token'>=</span> <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='symbol val'>:debug</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_expanded identifier id'>expanded</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;.compact&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;expanded input: #{expanded.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_compact identifier id'>compact</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>

    <span class='comment val'># xxx) Add the given context to the output</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_result identifier id'>result</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_Hash constant id'>Hash</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_serialize identifier id'>serialize</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_Array constant id'>Array</span>
      <span class='rubyid_kwgraph identifier id'>kwgraph</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_compact_iri identifier id'>compact_iri</span><span class='lparen token'>(</span><span class='string val'>'@graph'</span><span class='comma token'>,</span> <span class='symbol val'>:quiet</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_serialize identifier id'>serialize</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_kwgraph identifier id'>kwgraph</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_String constant id'>String</span>
      <span class='rubyid_kwid identifier id'>kwid</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_compact_iri identifier id'>compact_iri</span><span class='lparen token'>(</span><span class='string val'>'@id'</span><span class='comma token'>,</span> <span class='symbol val'>:quiet</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_serialize identifier id'>serialize</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_kwid identifier id'>kwid</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
  <span class='rubyid_yield yield kw'>yield</span> <span class='rubyid_result identifier id'>result</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_result identifier id'>result</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand-class_method">
  
    + (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>) <strong>expand</strong>(input, context = nil, callback = nil, options = {}) {|jsonld| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Expands the given input according to the steps in the Expansion Algorithm. The input must be copied, expanded and returned
if there are no errors. If the expansion fails, an appropriate exception must be thrown.</p>

<p>The resulting <code>Array</code> is returned via the provided callback.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD object to copy and perform the expansion upon.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>An external context to use additionally to the context embedded in input when expanding the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameters.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The expanded JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The expanded JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidContext.html" title="JSON::LD::InvalidContext (class)">InvalidContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://json-ld.org/spec/latest/json-ld-api/#expansion-algorithm" target="_parent" title="http://json-ld.org/spec/latest/json-ld-api/#expansion-algorithm">http://json-ld.org/spec/latest/json-ld-api/#expansion-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 120</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_api identifier id'>api</span><span class='bitor op'>|</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_value identifier id'>value</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># If, after the algorithm outlined above is run, the resulting element is an</span>
  <span class='comment val'># JSON object with just a @graph property, element is set to the value of @graph's value.</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>'@graph'</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_result identifier id'>result</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_result identifier id'>result</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span> <span class='eq op'>==</span> <span class='dstring node'>%w(@graph)</span>

  <span class='comment val'># Finally, if element is a JSON object, it is wrapped into an array.</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_result identifier id'>result</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_result identifier id'>result</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>
  <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
  <span class='rubyid_yield yield kw'>yield</span> <span class='rubyid_result identifier id'>result</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_result identifier id'>result</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten-class_method">
  
    + (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>) <strong>flatten</strong>(input, graph, context, callback = nil, options = {}) {|jsonld| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Flattens the given input according to the steps in the Flattening Algorithm. The input must be flattened and returned if there are no errors. If the flattening fails, an appropriate exception must be thrown.</p>

<p>The resulting <code>Array</code> is returned via the provided callback.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded. If there is no block, the value will be returned.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD object or array of JSON-LD objects to flatten or an IRI referencing the JSON-LD document to flatten.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>graph</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../RDF/URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The graph in the document that should be flattened. To return the default graph @default has to be passed, for the merged graph @merged and for any other graph the IRI identifying the graph has to be passed. The default value is @merged.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An optional external context to use additionally to the context embedded in input when expanding the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameters.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span>
Other options passed to <span class='object_link'><a href="#expand-class_method" title="JSON::LD::API.expand (method)">expand</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The framed JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The framed JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidFrame.html" title="JSON::LD::InvalidFrame (class)">InvalidFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm" target="_parent" title="http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm">http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 215</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_flatten identifier id'>flatten</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_graph identifier id'>graph</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_graph identifier id'>graph</span> <span class='opasgn op'>||=</span> <span class='string val'>'@merged'</span>

  <span class='comment val'># Expand input to simplify processing</span>
  <span class='rubyid_expanded_input identifier id'>expanded_input</span> <span class='assign token'>=</span> <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='rparen token'>)</span>

  <span class='comment val'># Initialize input using frame as context</span>
  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_expanded_input identifier id'>expanded_input</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;.flatten&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;expanded input: #{value.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>

    <span class='comment val'># Generate _nodeMap_</span>
    <span class='rubyid_node_map identifier id'>node_map</span> <span class='assign token'>=</span> <span class='rubyid_Hash constant id'>Hash</span><span class='dot token'>.</span><span class='rubyid_ordered identifier id'>ordered</span>
    <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_generate_node_map identifier id'>generate_node_map</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='comma token'>,</span> <span class='rubyid_node_map identifier id'>node_map</span><span class='comma token'>,</span> <span class='lparen token'>(</span><span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='string val'>'@merged'</span> <span class='question op'>?</span> <span class='string val'>'@merged'</span> <span class='colon op'>:</span> <span class='string val'>'@default'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

    <span class='comment val'># If nodeMap has no property graph, return result, otherwise set definitions to its value.</span>
    <span class='rubyid_definitions identifier id'>definitions</span> <span class='assign token'>=</span> <span class='rubyid_node_map identifier id'>node_map</span><span class='dot token'>.</span><span class='rubyid_fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='rubyid_graph identifier id'>graph</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    
    <span class='comment val'># Foreach property and value of definitions</span>
    <span class='rubyid_definitions identifier id'>definitions</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span><span class='rubyid_sort identifier id'>sort</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_prop identifier id'>prop</span><span class='bitor op'>|</span>
      <span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_definitions identifier id'>definitions</span><span class='lbrack token'>[</span><span class='rubyid_prop identifier id'>prop</span><span class='rbrack token'>]</span>
      <span class='rubyid_result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_value identifier id'>value</span>
    <span class='rubyid_end end kw'>end</span>
    
    <span class='rubyid_result identifier id'>result</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
  <span class='rubyid_yield yield kw'>yield</span> <span class='rubyid_result identifier id'>result</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_result identifier id'>result</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="frame-class_method">
  
    + (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>) <strong>frame</strong>(input, frame, callback = nil, options = {}) {|jsonld| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Frames the given input using the frame according to the steps in the Framing Algorithm. The input is used to build the
framed output and is returned if there are no errors. If there are no matches for the frame, null must be returned.
Exceptions must be thrown if there are errors.</p>

<p>The resulting <code>Array</code> is returned via the provided callback.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD object to copy and perform the framing on.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>frame</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The frame to use when re-arranging the data.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameters.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span>
Other options passed to <span class='object_link'><a href="#expand-class_method" title="JSON::LD::API.expand (method)">expand</a></span></p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:embed</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>a flag specifying that objects should be directly embedded in the output,
instead of being referred to by their IRI.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:explicit</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>a flag specifying that for properties to be included in the output,
they must be explicitly declared in the framing context.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:omitDefault</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>a flag specifying that properties that are missing from the JSON-LD
input should be omitted from the output.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The framed JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The framed JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidFrame.html" title="JSON::LD::InvalidFrame (class)">InvalidFrame</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm" target="_parent" title="http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm">http://json-ld.org/spec/latest/json-ld-api/#framing-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 283</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_frame identifier id'>frame</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_frame identifier id'>frame</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_match_limit identifier id'>match_limit</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='rubyid_framing_state identifier id'>framing_state</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:embed</span>       <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span>
    <span class='symbol val'>:explicit</span>    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span><span class='comma token'>,</span>
    <span class='symbol val'>:omitDefault</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span><span class='comma token'>,</span>
    <span class='symbol val'>:embeds</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='rbrace token'>}</span>
  <span class='rubyid_framing_state identifier id'>framing_state</span><span class='lbrack token'>[</span><span class='symbol val'>:embed</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:embed</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_options identifier id'>options</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:embed</span><span class='rparen token'>)</span>
  <span class='rubyid_framing_state identifier id'>framing_state</span><span class='lbrack token'>[</span><span class='symbol val'>:explicit</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:explicit</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_options identifier id'>options</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:explicit</span><span class='rparen token'>)</span>
  <span class='rubyid_framing_state identifier id'>framing_state</span><span class='lbrack token'>[</span><span class='symbol val'>:omitDefault</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:omitDefault</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_options identifier id'>options</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:omitDefault</span><span class='rparen token'>)</span>

  <span class='comment val'># de-reference frame to create the framing object</span>
  <span class='rubyid_frame identifier id'>frame</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_frame identifier id'>frame</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_Hash constant id'>Hash</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_frame identifier id'>frame</span><span class='dot token'>.</span><span class='rubyid_dup identifier id'>dup</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_IO constant id'>IO</span><span class='comma token'>,</span> <span class='rubyid_StringIO constant id'>StringIO</span> <span class='rubyid_then then kw'>then</span> <span class='rubyid_JSON constant id'>JSON</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_frame identifier id'>frame</span><span class='dot token'>.</span><span class='rubyid_read identifier id'>read</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_String constant id'>String</span>
    <span class='rubyid_content identifier id'>content</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_File constant id'>File</span><span class='dot token'>.</span><span class='rubyid_open_file identifier id'>open_file</span><span class='lparen token'>(</span><span class='rubyid_frame identifier id'>frame</span><span class='comma token'>,</span> <span class='rubyid_OPEN_OPTS constant id'>OPEN_OPTS</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_content identifier id'>content</span> <span class='assign token'>=</span> <span class='rubyid_JSON constant id'>JSON</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_f identifier id'>f</span><span class='dot token'>.</span><span class='rubyid_read identifier id'>read</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='rubyid_content identifier id'>content</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Expand frame to simplify processing</span>
  <span class='rubyid_expanded_frame identifier id'>expanded_frame</span> <span class='assign token'>=</span> <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_frame identifier id'>frame</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Expand input to simplify processing</span>
  <span class='rubyid_expanded_input identifier id'>expanded_input</span> <span class='assign token'>=</span> <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='rparen token'>)</span>

  <span class='comment val'># Initialize input using frame as context</span>
  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_expanded_input identifier id'>expanded_input</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
    <span class='comment val'>#debug(&quot;.frame&quot;) {&quot;context from frame: #{context.inspect}&quot;}</span>
    <span class='comment val'>#debug(&quot;.frame&quot;) {&quot;expanded frame: #{expanded_frame.to_json(JSON_STATE)}&quot;}</span>
    <span class='comment val'>#debug(&quot;.frame&quot;) {&quot;expanded input: #{value.to_json(JSON_STATE)}&quot;}</span>

    <span class='comment val'># Get framing nodes from expanded input, replacing Blank Node identifiers as necessary</span>
    <span class='rubyid_all_nodes identifier id'>all_nodes</span> <span class='assign token'>=</span> <span class='rubyid_Hash constant id'>Hash</span><span class='dot token'>.</span><span class='rubyid_ordered identifier id'>ordered</span>
    <span class='rubyid_depth identifier id'>depth</span> <span class='rubyid_do do kw'>do</span>
      <span class='rubyid_generate_node_map identifier id'>generate_node_map</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span><span class='comma token'>,</span> <span class='rubyid_all_nodes identifier id'>all_nodes</span><span class='comma token'>,</span> <span class='string val'>'@merged'</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_@node_map ivar id'>@node_map</span> <span class='assign token'>=</span> <span class='rubyid_all_nodes identifier id'>all_nodes</span><span class='lbrack token'>[</span><span class='string val'>'@merged'</span><span class='rbrack token'>]</span>
    <span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;.frame&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;node_map: #{@node_map.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>

    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='rubyid_frame identifier id'>frame</span><span class='lparen token'>(</span><span class='rubyid_framing_state identifier id'>framing_state</span><span class='comma token'>,</span> <span class='rubyid_@node_map ivar id'>@node_map</span><span class='comma token'>,</span> <span class='rubyid_expanded_frame identifier id'>expanded_frame</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='rubyid_result identifier id'>result</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;.frame&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;after frame: #{result.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>
    
    <span class='comment val'># Initalize context from frame</span>
    <span class='rubyid_@context ivar id'>@context</span> <span class='assign token'>=</span> <span class='rubyid_depth identifier id'>depth</span> <span class='lbrace token'>{</span><span class='rubyid_@context ivar id'>@context</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_frame identifier id'>frame</span><span class='lbrack token'>[</span><span class='string val'>'@context'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='comment val'># Compact result</span>
    <span class='rubyid_compacted identifier id'>compacted</span> <span class='assign token'>=</span> <span class='rubyid_depth identifier id'>depth</span> <span class='lbrace token'>{</span><span class='rubyid_compact identifier id'>compact</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='rubyid_compacted identifier id'>compacted</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_compacted identifier id'>compacted</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_compacted identifier id'>compacted</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>

    <span class='comment val'># Add the given context to the output</span>
    <span class='rubyid_kwgraph identifier id'>kwgraph</span> <span class='assign token'>=</span> <span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_compact_iri identifier id'>compact_iri</span><span class='lparen token'>(</span><span class='string val'>'@graph'</span><span class='comma token'>,</span> <span class='symbol val'>:quiet</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_context identifier id'>context</span><span class='dot token'>.</span><span class='rubyid_serialize identifier id'>serialize</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rubyid_kwgraph identifier id'>kwgraph</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_compacted identifier id'>compacted</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;.frame&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;after compact: #{result.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_cleanup_preserve identifier id'>cleanup_preserve</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
  <span class='rubyid_yield yield kw'>yield</span> <span class='rubyid_result identifier id'>result</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_result identifier id'>result</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fromRDF-class_method">
  
    + (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>) <strong>fromRDF</strong>(input, callback = nil, options = {}) {|jsonld| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Take an ordered list of RDF::Statements and turn them into a JSON-LD document.</p>

<p>The resulting <code>Array</code> is returned via the provided callback.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../RDF/Statement.html" title="RDF::Statement (class)">RDF::Statement</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameteres.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD document in expanded form</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD document in expanded form</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


404
405
406
407
408
409
410
411
412
413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 404</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_fromRDF identifier id'>fromRDF</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:useNativeTypes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_merge identifier id'>merge</span><span class='lparen token'>(</span><span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>

  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_api identifier id'>api</span><span class='bitor op'>|</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_from_statements identifier id'>from_statements</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_callback identifier id'>callback</span> <span class='opasgn op'>||=</span> <span class='rubyid_block identifier id'>block</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
  <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
  <span class='rubyid_result identifier id'>result</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="toRDF-class_method">
  
    + (<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../RDF/Statement.html" title="RDF::Statement (class)">RDF::Statement</a></span>&gt;</tt>) <strong>toRDF</strong>(input, context = nil, callback = nil, options = {}) {|statement| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Processes the input according to the RDF Conversion Algorithm, calling the provided callback for each triple generated.</p>

<p>Note that for Ruby, if the callback is not provided and a block is given, it will be yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JSON-LD object to process when outputting statements.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>#read</tt>, <tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="EvaluationContext.html" title="JSON::LD::EvaluationContext (class)">JSON::LD::EvaluationContext</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>An external context to use additionally to the context embedded in input when expanding the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>callback</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>(&amp;block)
Alternative to using block, with same parameteres.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span>,<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>See options in <span class='object_link'><a href="#initialize-instance_method" title="JSON::LD::API#initialize (method)">#initialize</a></span>
Options passed to <span class='object_link'><a href="#expand-class_method" title="JSON::LD::API.expand (method)">expand</a></span></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>statement</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>statement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../RDF/Statement.html" title="RDF::Statement (class)">RDF::Statement</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../RDF/Statement.html" title="RDF::Statement (class)">RDF::Statement</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if no block given</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidContext.html" title="JSON::LD::InvalidContext (class)">InvalidContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/json-ld-deca083604fa/lib/json/ld/api.rb', line 366</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_toRDF identifier id'>toRDF</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_API constant id'>API</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_context identifier id'>context</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_api identifier id'>api</span><span class='bitor op'>|</span>
    <span class='comment val'># 1) Perform the Expansion Algorithm on the JSON-LD input.</span>
    <span class='comment val'>#    This removes any existing context to allow the given context to be cleanly applied.</span>
    <span class='rubyid_result identifier id'>result</span> <span class='assign token'>=</span> <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_expand identifier id'>expand</span><span class='lparen token'>(</span><span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_value identifier id'>value</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_context identifier id'>context</span><span class='rparen token'>)</span>

    <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:debug</span><span class='comma token'>,</span> <span class='string val'>&quot;.expand&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;expanded input: #{result.to_json(JSON_STATE)}&quot;</span><span class='rbrace token'>}</span>
    <span class='comment val'># Start generating statements</span>
    <span class='rubyid_results identifier id'>results</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='rubyid_api identifier id'>api</span><span class='dot token'>.</span><span class='rubyid_statements identifier id'>statements</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='rubyid_result identifier id'>result</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_statement identifier id'>statement</span><span class='bitor op'>|</span>
      <span class='rubyid_callback identifier id'>callback</span> <span class='opasgn op'>||=</span> <span class='rubyid_block identifier id'>block</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block_given? fid id'>block_given?</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_callback identifier id'>callback</span>
        <span class='rubyid_callback identifier id'>callback</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_statement identifier id'>statement</span><span class='rparen token'>)</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_results identifier id'>results</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_statement identifier id'>statement</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_results identifier id'>results</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Feb  3 13:51:33 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.3 (ruby-1.8.7).
</div>

  </body>
</html>