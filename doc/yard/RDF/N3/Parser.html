<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: RDF::N3::Parser
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (P)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../N3.html" title="RDF::N3 (module)">N3</a></span></span>
     &raquo; 
    <span class="title">Parser</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: RDF::N3::Parser
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="Reader.html" title="RDF::N3::Reader (class)">Reader</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="START-constant" class="">START =
          
        </dt>
        <dd><pre class="code"><span class='string val'>'http://www.w3.org/2000/10/swap/grammar/n3#document'</span>
</pre></dd>
      
        <dt id="R_WHITESPACE-constant" class="">R_WHITESPACE =
          
        </dt>
        <dd><pre class="code"><span class='rubyid_Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='rubyid_compile identifier id'>compile</span><span class='lparen token'>(</span><span class='string val'>'\A\s*(?:#.*$)?'</span><span class='rparen token'>)</span>
</pre></dd>
      
        <dt id="R_MLSTRING-constant" class="">R_MLSTRING =
          
        </dt>
        <dd><pre class="code"><span class='rubyid_Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='rubyid_compile identifier id'>compile</span><span class='lparen token'>(</span><span class='string val'>&quot;^.*([^\&quot;\\\\]*)\&quot;\&quot;\&quot;&quot;</span><span class='rparen token'>)</span>
</pre></dd>
      
        <dt id="SINGLE_CHARACTER_SELECTORS-constant" class="">SINGLE_CHARACTER_SELECTORS =
          
        </dt>
        <dd><pre class="code"><span class='string val'>%{\t\r\n !\&quot;#$\%&amp;'()*.,+/;&lt;=&gt;?[\\]^`{|}~}</span>
</pre></dd>
      
        <dt id="NOT_QNAME_CHARS-constant" class="">NOT_QNAME_CHARS =
          
        </dt>
        <dd><pre class="code"><span class='rubyid_SINGLE_CHARACTER_SELECTORS constant id'>SINGLE_CHARACTER_SELECTORS</span> <span class='plus op'>+</span> <span class='string val'>&quot;@&quot;</span>
</pre></dd>
      
        <dt id="NOT_NAME_CHARS-constant" class="">NOT_NAME_CHARS =
          
        </dt>
        <dd><pre class="code"><span class='rubyid_NOT_QNAME_CHARS constant id'>NOT_QNAME_CHARS</span> <span class='plus op'>+</span> <span class='string val'>&quot;:&quot;</span>
</pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abbr-instance_method" title="#abbr (instance method)">- (Object) <strong>abbr</strong>(prodURI) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#buffer-instance_method" title="#buffer (instance method)">- (Object) <strong>buffer</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return data from current off set to end of line.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#consume-instance_method" title="#consume (instance method)">- (Object) <strong>consume</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Cause n characters of line to be consumed.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump_stack-instance_method" title="#dump_stack (instance method)">- (Object) <strong>dump_stack</strong>(stack) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#error-instance_method" title="#error (instance method)">- (Object) <strong>error</strong>(str) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_token-instance_method" title="#get_token (instance method)">- (Object) <strong>get_token</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onFinish-instance_method" title="#onFinish (instance method)">- (Object) <strong>onFinish</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onStart-instance_method" title="#onStart (instance method)">- (Object) <strong>onStart</strong>(prod) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onToken-instance_method" title="#onToken (instance method)">- (Object) <strong>onToken</strong>(prod, tok) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-instance_method" title="#parse (instance method)">- (Object) <strong>parse</strong>(prod) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-instance_method" title="#readline (instance method)">- (Object) <strong>readline</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test-instance_method" title="#test (instance method)">- (Object) <strong>test</strong>(input, branches, regexps) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#token-instance_method" title="#token (instance method)">- (Object) <strong>token</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Memoizer for get_token.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#whitespace-instance_method" title="#whitespace (instance method)">- (Object) <strong>whitespace</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="abbr-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>abbr</strong>(prodURI) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 189</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_abbr identifier id'>abbr</span><span class='lparen token'>(</span><span class='rubyid_prodURI identifier id'>prodURI</span><span class='rparen token'>)</span>
  <span class='rubyid_prodURI identifier id'>prodURI</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'#'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="buffer-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>buffer</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Return data from current off set to end of line</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 177</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_buffer identifier id'>buffer</span>
  <span class='rubyid_@line ivar id'>@line</span><span class='lbrack token'>[</span><span class='rubyid_@pos ivar id'>@pos</span><span class='comma token'>,</span> <span class='rubyid_@line ivar id'>@line</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='minus op'>-</span> <span class='rubyid_@pos ivar id'>@pos</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@line ivar id'>@line</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="consume-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>consume</strong>(n) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Cause n characters of line to be consumed. Read new line while line is empty or until eof</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184
185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 182</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='rubyid_@memo ivar id'>@memo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@pos ivar id'>@pos</span> <span class='opasgn op'>+=</span> <span class='rubyid_n identifier id'>n</span>
  <span class='rubyid_readline identifier id'>readline</span> <span class='rubyid_while while_mod kw'>while</span> <span class='rubyid_@line ivar id'>@line</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@line ivar id'>@line</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='leq op'>&lt;=</span> <span class='rubyid_@pos ivar id'>@pos</span>
  <span class='comment val'>#puts &quot;consume[#{n}]: '#{buffer}'&quot; if $verbose</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dump_stack-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>dump_stack</strong>(stack) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 207</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_dump_stack identifier id'>dump_stack</span><span class='lparen token'>(</span><span class='rubyid_stack identifier id'>stack</span><span class='rparen token'>)</span>
  <span class='rubyid_STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='string val'>&quot;\nstack trace:&quot;</span>
  <span class='rubyid_stack identifier id'>stack</span><span class='dot token'>.</span><span class='rubyid_reverse identifier id'>reverse</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_se identifier id'>se</span><span class='bitor op'>|</span>
    <span class='rubyid_STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;#{se[:prod]}&quot;</span>
    <span class='rubyid_STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='string val'>&quot;  &quot;</span> <span class='plus op'>+</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_se identifier id'>se</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_then then kw'>then</span> <span class='string val'>&quot;nil&quot;</span>
    <span class='rubyid_when when kw'>when</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rubyid_then then kw'>then</span> <span class='string val'>&quot;empty&quot;</span>
    <span class='rubyid_else else kw'>else</span>          <span class='rubyid_se identifier id'>se</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;,\n  &quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="error-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>error</strong>(str) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../ReaderError.html" title="RDF::ReaderError (class)">RDF::ReaderError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 11</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='rubyid_str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_ReaderError constant id'>ReaderError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;\n#{@line}\n#{'-' * @pos}^\nError on line #{@lineno} at offset #{@pos}: #{str}&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_token</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 112</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_token identifier id'>get_token</span>
  <span class='rubyid_whitespace identifier id'>whitespace</span>
  
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
  
  <span class='rubyid_ch2 identifier id'>ch2</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rbrack token'>]</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_ch2 identifier id'>ch2</span> <span class='rubyid_if if_mod kw'>if</span> <span class='dstring node'>%w(=&gt; &lt;= ^^)</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_ch2 identifier id'>ch2</span><span class='rparen token'>)</span>
  
  <span class='rubyid_ch identifier id'>ch</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
  <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_ch identifier id'>ch</span> <span class='eq op'>==</span> <span class='string val'>'.'</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span>
  
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_ch identifier id'>ch</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_SINGLE_CHARACTER_SELECTORS constant id'>SINGLE_CHARACTER_SELECTORS</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_ch identifier id'>ch</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='string val'>&quot;:&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_ch identifier id'>ch</span> <span class='eq op'>==</span> <span class='string val'>&quot;:&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='string val'>&quot;0&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='string val'>&quot;+-0123456789&quot;</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_ch identifier id'>ch</span><span class='rparen token'>)</span>
  
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_ch identifier id'>ch</span> <span class='eq op'>==</span> <span class='string val'>'@'</span>
    <span class='rubyid_return return kw'>return</span> <span class='string val'>'@'</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@pos ivar id'>@pos</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@line ivar id'>@line</span><span class='lbrack token'>[</span><span class='rubyid_@pos ivar id'>@pos</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'&quot;'</span>

    <span class='rubyid_j identifier id'>j</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='rubyid_j identifier id'>j</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span> <span class='rubyid_while while_mod kw'>while</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='rubyid_j identifier id'>j</span><span class='plus op'>+</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='rubyid_NOT_NAME_CHARS constant id'>NOT_NAME_CHARS</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='rubyid_j identifier id'>j</span><span class='plus op'>+</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='rubyid_name identifier id'>name</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='rubyid_j identifier id'>j</span><span class='rbrack token'>]</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_name identifier id'>name</span> <span class='eq op'>==</span> <span class='string val'>'keywords'</span>
      <span class='rubyid_@keywords ivar id'>@keywords</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_return return kw'>return</span> <span class='string val'>'@'</span> <span class='plus op'>+</span> <span class='rubyid_name identifier id'>name</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_j identifier id'>j</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='rubyid_j identifier id'>j</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span> <span class='rubyid_while while_mod kw'>while</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='rubyid_j identifier id'>j</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='rubyid_NOT_QNAME_CHARS constant id'>NOT_QNAME_CHARS</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='rubyid_j identifier id'>j</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_word identifier id'>word</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='rubyid_j identifier id'>j</span><span class='rbrack token'>]</span>
  <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Tokenizer expected qname, found #{buffer[0, 10]}&quot;</span><span class='rparen token'>)</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_word identifier id'>word</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span>
    <span class='rubyid_@keywords ivar id'>@keywords</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_word identifier id'>word</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_@keywords ivar id'>@keywords</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_word identifier id'>word</span><span class='rparen token'>)</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_word identifier id'>word</span> <span class='eq op'>==</span> <span class='string val'>'keywords'</span>
      <span class='rubyid_@keywords ivar id'>@keywords</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_return return kw'>return</span> <span class='string val'>'@'</span> <span class='plus op'>+</span> <span class='rubyid_word identifier id'>word</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='comment val'># implicit keyword</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='string val'>'a'</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="onFinish-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>onFinish</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 198</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_onFinish identifier id'>onFinish</span>
  <span class='rubyid_prod identifier id'>prod</span> <span class='assign token'>=</span> <span class='rubyid_@productions ivar id'>@productions</span><span class='dot token'>.</span><span class='rubyid_pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='rubyid_$stdout gvar id'>$stdout</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='rubyid_@productions ivar id'>@productions</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='plus op'>+</span> <span class='string val'>'/'</span> <span class='plus op'>+</span> <span class='rubyid_prod identifier id'>prod</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="onStart-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>onStart</strong>(prod) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 193</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_onStart identifier id'>onStart</span><span class='lparen token'>(</span><span class='rubyid_prod identifier id'>prod</span><span class='rparen token'>)</span>
  <span class='rubyid_$stdout gvar id'>$stdout</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='rubyid_@productions ivar id'>@productions</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='plus op'>+</span> <span class='rubyid_prod identifier id'>prod</span>
  <span class='rubyid_@productions ivar id'>@productions</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_prod identifier id'>prod</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="onToken-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>onToken</strong>(prod, tok) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 203</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_onToken identifier id'>onToken</span><span class='lparen token'>(</span><span class='rubyid_prod identifier id'>prod</span><span class='comma token'>,</span> <span class='rubyid_tok identifier id'>tok</span><span class='rparen token'>)</span>
  <span class='rubyid_$stdout gvar id'>$stdout</span><span class='dot token'>.</span><span class='rubyid_puts identifier id'>puts</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='rubyid_@productions ivar id'>@productions</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;#{prod}(#{tok})&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parse-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parse</strong>(prod) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 15</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_prod identifier id'>prod</span><span class='rparen token'>)</span>
  <span class='rubyid_todo_stack identifier id'>todo_stack</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:prod</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_prod identifier id'>prod</span><span class='comma token'>,</span> <span class='symbol val'>:terms</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_nil nil kw'>nil</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
  <span class='rubyid_while while kw'>while</span> <span class='notop op'>!</span><span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
    <span class='rubyid_pushed identifier id'>pushed</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
      <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='rubyid_tok identifier id'>tok</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_token identifier id'>token</span>
      <span class='comment val'>#puts &quot;parse tok: '#{tok}', prod #{todo_stack.last[:prod]}&quot;</span>
      
      <span class='comment val'># Got an opened production</span>
      <span class='rubyid_onStart identifier id'>onStart</span><span class='lparen token'>(</span><span class='rubyid_abbr identifier id'>abbr</span><span class='lparen token'>(</span><span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:prod</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='rubyid_break break kw'>break</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_tok identifier id'>tok</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
      
      <span class='rubyid_cur_prod identifier id'>cur_prod</span> <span class='assign token'>=</span> <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:prod</span><span class='rbrack token'>]</span>
      <span class='rubyid_prod_branch identifier id'>prod_branch</span> <span class='assign token'>=</span> <span class='rubyid_@branches ivar id'>@branches</span><span class='lbrack token'>[</span><span class='rubyid_cur_prod identifier id'>cur_prod</span><span class='rbrack token'>]</span>
      <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='dstring node'>&quot;No branches found for '#{abbr(cur_prod)}'&quot;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_prod_branch identifier id'>prod_branch</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
      <span class='rubyid_sequence identifier id'>sequence</span> <span class='assign token'>=</span> <span class='rubyid_prod_branch identifier id'>prod_branch</span><span class='lbrack token'>[</span><span class='rubyid_tok identifier id'>tok</span><span class='rbrack token'>]</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
        <span class='rubyid_dump_stack identifier id'>dump_stack</span><span class='lparen token'>(</span><span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
        <span class='rubyid_expected identifier id'>expected</span> <span class='assign token'>=</span> <span class='rubyid_prod_branch identifier id'>prod_branch</span><span class='dot token'>.</span><span class='rubyid_values identifier id'>values</span><span class='dot token'>.</span><span class='rubyid_uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_u identifier id'>u</span><span class='bitor op'>|</span> <span class='rubyid_u identifier id'>u</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span> <span class='rubyid_abbr identifier id'>abbr</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_inspect identifier id'>inspect</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;,&quot;</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
        <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Found '#{tok}' when parsing a #{abbr(cur_prod)}. expected #{expected.join(' | ')}&quot;</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
      <span class='comment val'>#puts &quot;sequence: #{sequence.inspect}&quot;</span>
      <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='rubyid_sequence identifier id'>sequence</span>
    <span class='rubyid_end end kw'>end</span>
    
    <span class='comment val'>#puts &quot;parse: #{todo_stack.last.inspect}&quot;</span>
    <span class='rubyid_while while kw'>while</span> <span class='notop op'>!</span><span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
      <span class='rubyid_term identifier id'>term</span> <span class='assign token'>=</span> <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_shift identifier id'>shift</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_term identifier id'>term</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_String constant id'>String</span><span class='rparen token'>)</span>
        <span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;parse term(string): #{term}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
        <span class='rubyid_word identifier id'>word</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='rubyid_term identifier id'>term</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='rbrack token'>]</span>
        <span class='rubyid_if if kw'>if</span> <span class='rubyid_word identifier id'>word</span> <span class='eq op'>==</span> <span class='rubyid_term identifier id'>term</span>
          <span class='rubyid_onToken identifier id'>onToken</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='comma token'>,</span> <span class='rubyid_word identifier id'>word</span><span class='rparen token'>)</span>
          <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='rparen token'>)</span>
        <span class='rubyid_elsif elsif kw'>elsif</span> <span class='string val'>'@'</span> <span class='plus op'>+</span> <span class='rubyid_word identifier id'>word</span><span class='dot token'>.</span><span class='rubyid_chop identifier id'>chop</span> <span class='eq op'>==</span> <span class='rubyid_term identifier id'>term</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@keywords ivar id'>@keywords</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_word identifier id'>word</span><span class='dot token'>.</span><span class='rubyid_chop identifier id'>chop</span><span class='rparen token'>)</span>
          <span class='rubyid_onToken identifier id'>onToken</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='comma token'>,</span> <span class='rubyid_word identifier id'>word</span><span class='dot token'>.</span><span class='rubyid_chop identifier id'>chop</span><span class='rparen token'>)</span>
          <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
        <span class='rubyid_else else kw'>else</span>
          <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Found '#{buffer[0, 10]}...'; #{term} expected&quot;</span><span class='rparen token'>)</span>
        <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_regexp identifier id'>regexp</span> <span class='assign token'>=</span> <span class='rubyid_@regexps ivar id'>@regexps</span><span class='lbrack token'>[</span><span class='rubyid_term identifier id'>term</span><span class='rbrack token'>]</span>
        <span class='rubyid_if if kw'>if</span> <span class='rubyid_abbr identifier id'>abbr</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='string val'>'string'</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'&quot;&quot;&quot;'</span>
          <span class='comment val'># Read until end of multi-line comment if this is the start of a multi-line comment</span>
          <span class='rubyid_string identifier id'>string</span> <span class='assign token'>=</span> <span class='string val'>'&quot;&quot;&quot;'</span>
          <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>
          <span class='rubyid_next_line identifier id'>next_line</span> <span class='assign token'>=</span> <span class='rubyid_buffer identifier id'>buffer</span>
          <span class='comment val'>#puts &quot;ml-str(start): #{next_line.dump}&quot; if $verbose</span>
          <span class='rubyid_until until kw'>until</span> <span class='rubyid_md identifier id'>md</span> <span class='assign token'>=</span> <span class='rubyid_R_MLSTRING constant id'>R_MLSTRING</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='rubyid_next_line identifier id'>next_line</span><span class='rparen token'>)</span>
            <span class='rubyid_begin begin kw'>begin</span>
              <span class='rubyid_string identifier id'>string</span> <span class='opasgn op'>+=</span> <span class='rubyid_next_line identifier id'>next_line</span>
              <span class='rubyid_next_line identifier id'>next_line</span> <span class='assign token'>=</span> <span class='rubyid_readline identifier id'>readline</span>
            <span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_EOFError constant id'>EOFError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_e identifier id'>e</span>
              <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='string val'>&quot;EOF reached searching for end of multi-line comment&quot;</span><span class='rparen token'>)</span>
            <span class='rubyid_end end kw'>end</span>
          <span class='rubyid_end end kw'>end</span>
          <span class='rubyid_string identifier id'>string</span> <span class='opasgn op'>+=</span> <span class='rubyid_md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
          <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='rparen token'>)</span>
          <span class='rubyid_onToken identifier id'>onToken</span><span class='lparen token'>(</span><span class='string val'>'string'</span><span class='comma token'>,</span> <span class='rubyid_string identifier id'>string</span><span class='rparen token'>)</span>
          <span class='comment val'>#puts &quot;ml-str now #{buffer.dump}&quot;</span>
        <span class='rubyid_else else kw'>else</span>
          <span class='rubyid_md identifier id'>md</span> <span class='assign token'>=</span> <span class='rubyid_regexp identifier id'>regexp</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='rubyid_buffer identifier id'>buffer</span><span class='rparen token'>)</span>
          <span class='rubyid_error identifier id'>error</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Token(#{abbr(term)}) '#{buffer[0, 10]}...' should match #{regexp}&quot;</span><span class='rparen token'>)</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_md identifier id'>md</span>
          <span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;parse term(#{abbr(term)}:regexp): #{term}, #{regexp}.match('#{buffer[0, 10]}...') =&gt; '#{md.inspect}'&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
          <span class='rubyid_onToken identifier id'>onToken</span><span class='lparen token'>(</span><span class='rubyid_abbr identifier id'>abbr</span><span class='lparen token'>(</span><span class='rubyid_term identifier id'>term</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='rubyid_md identifier id'>md</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
          <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='rparen token'>)</span>
        <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;parse term(push): #{term}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
        <span class='rubyid_todo_stack identifier id'>todo_stack</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:prod</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_term identifier id'>term</span><span class='comma token'>,</span> <span class='symbol val'>:terms</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_nil nil kw'>nil</span><span class='rbrace token'>}</span>
        <span class='rubyid_pushed identifier id'>pushed</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
        <span class='rubyid_break break kw'>break</span>
      <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_token identifier id'>token</span>
    <span class='rubyid_end end kw'>end</span>
    
    <span class='rubyid_while while kw'>while</span> <span class='notop op'>!</span><span class='rubyid_pushed identifier id'>pushed</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span><span class='lbrack token'>[</span><span class='symbol val'>:terms</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
      <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_pop identifier id'>pop</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_onFinish identifier id'>onFinish</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_while while kw'>while</span> <span class='notop op'>!</span><span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
    <span class='rubyid_todo_stack identifier id'>todo_stack</span><span class='dot token'>.</span><span class='rubyid_pop identifier id'>pop</span>
    <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_onFinish identifier id'>onFinish</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readline-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>readline</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 165</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_readline identifier id'>readline</span>
  <span class='rubyid_@line ivar id'>@line</span> <span class='assign token'>=</span> <span class='rubyid_@input ivar id'>@input</span><span class='dot token'>.</span><span class='rubyid_readline identifier id'>readline</span>
  <span class='rubyid_@lineno ivar id'>@lineno</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='rubyid_@line ivar id'>@line</span><span class='dot token'>.</span><span class='rubyid_force_encoding identifier id'>force_encoding</span><span class='lparen token'>(</span><span class='rubyid_Encoding constant id'>Encoding</span><span class='colon2 op'>::</span><span class='rubyid_UTF_8 constant id'>UTF_8</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@line ivar id'>@line</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:force_encoding</span><span class='rparen token'>)</span> <span class='comment val'># for Ruby 1.9+</span>
  <span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;readline[#{@lineno}]: #{@line.dump}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
  <span class='rubyid_@pos ivar id'>@pos</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='rubyid_@line ivar id'>@line</span>
<span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_EOFError constant id'>EOFError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_e identifier id'>e</span>
  <span class='rubyid_@line ivar id'>@line</span><span class='comma token'>,</span> <span class='rubyid_@pos ivar id'>@pos</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='integer val'>0</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test</strong>(input, branches, regexps) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 219</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_test identifier id'>test</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_branches identifier id'>branches</span><span class='comma token'>,</span> <span class='rubyid_regexps identifier id'>regexps</span><span class='rparen token'>)</span>
  <span class='comment val'># FIXME: for now, read in entire doc, eventually, process as stream</span>
  <span class='rubyid_@input ivar id'>@input</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:read</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_rewind identifier id'>rewind</span><span class='semicolon token'>;</span> <span class='rubyid_input identifier id'>input</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='rubyid_StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='rubyid_@lineno ivar id'>@lineno</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='rubyid_readline identifier id'>readline</span>  <span class='comment val'># Prime the pump</span>
  <span class='rubyid_$stdout gvar id'>$stdout</span> <span class='opasgn op'>||=</span> <span class='rubyid_STDOUT constant id'>STDOUT</span>
  
  <span class='rubyid_@memo ivar id'>@memo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@keyword_mode ivar id'>@keyword_mode</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
  <span class='rubyid_@keywords ivar id'>@keywords</span> <span class='assign token'>=</span> <span class='dstring node'>%w(a is of this has)</span>
  <span class='rubyid_@productions ivar id'>@productions</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='rubyid_@branches ivar id'>@branches</span> <span class='assign token'>=</span> <span class='rubyid_branches identifier id'>branches</span>
  <span class='rubyid_@regexps ivar id'>@regexps</span> <span class='assign token'>=</span> <span class='rubyid_regexps identifier id'>regexps</span>
  <span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_START constant id'>START</span><span class='dot token'>.</span><span class='rubyid_to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>token</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Memoizer for get_token</p>

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 103</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_token identifier id'>token</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_@memo ivar id'>@memo</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='rubyid_@pos ivar id'>@pos</span><span class='rparen token'>)</span>
    <span class='rubyid_tok identifier id'>tok</span> <span class='assign token'>=</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_get_token identifier id'>get_token</span>
    <span class='rubyid_@memo ivar id'>@memo</span><span class='lbrack token'>[</span><span class='rubyid_@pos ivar id'>@pos</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_tok identifier id'>tok</span>
    <span class='rubyid_puts identifier id'>puts</span> <span class='dstring node'>&quot;token: '#{tok}'('#{buffer[0, 10]}...')&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_buffer identifier id'>buffer</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_$verbose gvar id'>$verbose</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_@memo ivar id'>@memo</span><span class='lbrack token'>[</span><span class='rubyid_@pos ivar id'>@pos</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="whitespace-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>whitespace</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-n3-09fdfa91d5e4/lib/rdf/n3/reader/parser.rb', line 157</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_whitespace identifier id'>whitespace</span>
  <span class='rubyid_while while kw'>while</span> <span class='rubyid_buffer identifier id'>buffer</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_md identifier id'>md</span> <span class='assign token'>=</span> <span class='rubyid_R_WHITESPACE constant id'>R_WHITESPACE</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='rubyid_buffer identifier id'>buffer</span><span class='rparen token'>)</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
    <span class='rubyid_consume identifier id'>consume</span><span class='lparen token'>(</span><span class='rubyid_md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span><span class='rparen token'>)</span>
    <span class='comment val'>#puts &quot;ws: '#{md[0]}', pos=#{@pos}&quot;</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Mar  4 19:06:30 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.8.7).
</div>

  </body>
</html>