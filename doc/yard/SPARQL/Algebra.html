<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: SPARQL::Algebra
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../SPARQL.html" title="SPARQL (module)">SPARQL</a></span></span>
     &raquo; 
    <span class="title">Algebra</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: SPARQL::Algebra
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="../RDF.html" title="RDF (module)">RDF</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb<span class="defines">,<br />
  vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/query.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/version.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/expression.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/or.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/evaluatable.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/add.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/not.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/str.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/asc.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/and.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/bgp.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/ask.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/join.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/base.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/plus.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/desc.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/lang.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/regex.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/slice.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/equal.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/graph.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/minus.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/union.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/bound.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/order.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/filter.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/prefix.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/divide.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/is_iri.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/compare.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/dataset.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/reduced.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/project.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/is_blank.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/distinct.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/exprlist.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/subtract.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/multiply.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/datatype.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/describe.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/left_join.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/not_equal.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/same_term.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/less_than.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/construct.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/is_literal.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/greater_than.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/lang_matches.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/less_than_or_equal.rb,<br /> vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra/operator/greater_than_or_equal.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A SPARQL algebra for RDF.rb.</p>

<p>Parses Sparql S-Expressions (SSE) into SPARQL Algebra operators.</p>

<p>Operators implementing <span class='object_link'><a href="Algebra/Query.html#execute-instance_method" title="SPARQL::Algebra::Query#execute (method)">Query#execute</a></span> may directly
execute an object implementing <span class='object_link'><a href="../RDF/Queryable.html" title="RDF::Queryable (module)">RDF::Queryable</a></span>, and so may be treated
equivalently to <span class='object_link'><a href="../RDF/Query.html" title="RDF::Query (class)">RDF::Query</a></span>.</p>

<p>Operators implementing <span class='object_link'><a href="Algebra/Expression.html#evaluate-instance_method" title="SPARQL::Algebra::Expression#evaluate (method)">Expression#evaluate</a></span> may be
evaluated with RDF::Query::Solution bindings to yield an appropriate result.</p>

<p>An entire SSE expression is parsed into a recursive set of <span class='object_link'><a href="Algebra/Operator.html" title="SPARQL::Algebra::Operator (class)">Operator</a></span>
instances, with each operand representing an additional operator.</p>

<p><span class='object_link'><a href="../RDF/Query.html" title="RDF::Query (class)">RDF::Query</a></span> and <span class='object_link'><a href="../RDF/Query/Pattern.html" title="RDF::Query::Pattern (class)">RDF::Query::Pattern</a></span> are used as primitives for <code>bgp</code> and <code>triple</code> expressions.</p>

<h1>Queries</h1>

<pre class="code ruby"><code><span class='rubyid_require identifier id'>require</span> <span class='string val'>'sparql/algebra'</span>

<span class='rubyid_include identifier id'>include</span> <span class='rubyid_SPARQL constant id'>SPARQL</span><span class='colon2 op'>::</span><span class='rubyid_Algebra constant id'>Algebra</span>
</code></pre>

<h2>Basic Query</h2>

<pre class="code ruby"><code><span class='rubyid_BASE constant id'>BASE</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/</span><span class='rubyid_x identifier id'>x</span><span class='div op'>/</span><span class='gt op'>&gt;</span> 
<span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='gt op'>&gt;</span>

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span> <span class='rubyid_WHERE constant id'>WHERE</span> <span class='lbrace token'>{</span> <span class='symbol val'>:x</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span> <span class='rbrace token'>}</span> 
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_base identifier id'>base</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/</span><span class='rubyid_x identifier id'>x</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
  <span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='symbol val'>:x</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>Prefixes</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='rubyid_ns identifier id'>ns</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/n</span><span class='rubyid_s identifier id'>s</span><span class='comment val'>#&gt;</span>
<span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='rubyid_x identifier id'>x</span><span class='colon op'>:</span>  <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/</span><span class='rubyid_x identifier id'>x</span><span class='div op'>/</span><span class='gt op'>&gt;</span>

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span> <span class='rubyid_WHERE constant id'>WHERE</span> <span class='lbrace token'>{</span> <span class='rubyid_x identifier id'>x</span><span class='symbol val'>:x</span> <span class='rubyid_ns identifier id'>ns</span><span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span> <span class='rbrace token'>}</span> 
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='rubyid_ns identifier id'>ns</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/n</span><span class='rubyid_s identifier id'>s</span><span class='comment val'>#&gt;)</span>
         <span class='lparen token'>(</span><span class='rubyid_x identifier id'>x</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example.org/</span><span class='rubyid_x identifier id'>x</span><span class='div op'>/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='rubyid_x identifier id'>x</span><span class='symbol val'>:x</span> <span class='rubyid_ns identifier id'>ns</span><span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>Ask</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span>  <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span>

<span class='rubyid_ASK constant id'>ASK</span> <span class='rubyid_WHERE constant id'>WHERE</span> <span class='lbrace token'>{</span> <span class='symbol val'>:x</span> <span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span> <span class='rbrace token'>}</span> 
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_ask identifier id'>ask</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='symbol val'>:x</span> <span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>Datasets</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span> 

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span> 
<span class='rubyid_FROM constant id'>FROM</span> <span class='lt op'>&lt;</span><span class='rubyid_data identifier id'>data</span><span class='minus op'>-</span><span class='rubyid_g1 identifier id'>g1</span><span class='dot token'>.</span><span class='rubyid_ttl identifier id'>ttl</span><span class='gt op'>&gt;</span>
<span class='rubyid_FROM constant id'>FROM</span> <span class='rubyid_NAMED constant id'>NAMED</span> <span class='lt op'>&lt;</span><span class='rubyid_data identifier id'>data</span><span class='minus op'>-</span><span class='rubyid_g2 identifier id'>g2</span><span class='dot token'>.</span><span class='rubyid_ttl identifier id'>ttl</span><span class='gt op'>&gt;</span>
<span class='lbrace token'>{</span> <span class='integer val'>?s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span> <span class='rbrace token'>}</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_dataset identifier id'>dataset</span> <span class='lparen token'>(</span><span class='lt op'>&lt;</span><span class='rubyid_data identifier id'>data</span><span class='minus op'>-</span><span class='rubyid_g1 identifier id'>g1</span><span class='dot token'>.</span><span class='rubyid_ttl identifier id'>ttl</span><span class='gt op'>&gt;</span> <span class='lparen token'>(</span><span class='rubyid_named identifier id'>named</span> <span class='lt op'>&lt;</span><span class='rubyid_data identifier id'>data</span><span class='minus op'>-</span><span class='rubyid_g2 identifier id'>g2</span><span class='dot token'>.</span><span class='rubyid_ttl identifier id'>ttl</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_s identifier id'>s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>Join</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span> 

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span> 
<span class='lbrace token'>{</span> 
   <span class='integer val'>?s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span>
   <span class='rubyid_GRAPH constant id'>GRAPH</span> <span class='question op'>?</span><span class='rubyid_g identifier id'>g</span> <span class='lbrace token'>{</span> <span class='integer val'>?s</span> <span class='question op'>?</span><span class='rubyid_q identifier id'>q</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span> <span class='rbrace token'>}</span>
<span class='rbrace token'>}</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_join identifier id'>join</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_s identifier id'>s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='rubyid_graph identifier id'>graph</span> <span class='question op'>?</span><span class='rubyid_g identifier id'>g</span>
      <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_s identifier id'>s</span> <span class='question op'>?</span><span class='rubyid_q identifier id'>q</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>Union</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span> 

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span> 
<span class='lbrace token'>{</span> 
   <span class='lbrace token'>{</span> <span class='integer val'>?s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span> <span class='rbrace token'>}</span>
  <span class='rubyid_UNION constant id'>UNION</span>
   <span class='lbrace token'>{</span> <span class='rubyid_GRAPH constant id'>GRAPH</span> <span class='question op'>?</span><span class='rubyid_g identifier id'>g</span> <span class='lbrace token'>{</span> <span class='integer val'>?s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
<span class='rbrace token'>}</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_union identifier id'>union</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_s identifier id'>s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='rubyid_graph identifier id'>graph</span> <span class='question op'>?</span><span class='rubyid_g identifier id'>g</span>
      <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_s identifier id'>s</span> <span class='question op'>?</span><span class='rubyid_p identifier id'>p</span> <span class='question op'>?</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h2>LeftJoin</h2>

<pre class="code ruby"><code><span class='rubyid_PREFIX constant id'>PREFIX</span> <span class='colon op'>:</span>    <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span>

<span class='rubyid_SELECT constant id'>SELECT</span> <span class='mult op'>*</span>
<span class='lbrace token'>{</span> 
  <span class='integer val'>?x</span> <span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span> <span class='dot token'>.</span>
  <span class='rubyid_OPTIONAL constant id'>OPTIONAL</span>
  <span class='lbrace token'>{</span> 
    <span class='integer val'>?y</span> <span class='symbol val'>:q</span> <span class='question op'>?</span><span class='rubyid_w identifier id'>w</span> <span class='dot token'>.</span>
    <span class='rubyid_FILTER constant id'>FILTER</span><span class='lparen token'>(</span><span class='integer val'>?v</span><span class='assign token'>=</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
<span class='rbrace token'>}</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/example/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='rubyid_leftjoin identifier id'>leftjoin</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span> <span class='symbol val'>:p</span> <span class='question op'>?</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_y identifier id'>y</span> <span class='symbol val'>:q</span> <span class='question op'>?</span><span class='rubyid_w identifier id'>w</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='lparen token'>(</span><span class='assign token'>=</span> <span class='integer val'>?v</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</code></pre>

<h1>Expressions</h1>

<h2>Constructing operator expressions manually</h2>

<pre class="code ruby"><code><span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isBlank</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span><span class='lparen token'>(</span><span class='symbol val'>:foobar</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>                        <span class='comment val'>#=&gt; &quot;(isBlank _:foobar)&quot;</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isIRI</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_URI constant id'>URI</span><span class='lparen token'>(</span><span class='string val'>'http://rdf.rubyforge.org/'</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>       <span class='comment val'>#=&gt; &quot;(isIRI &lt;http://rdf.rubyforge.org/&gt;)&quot;</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isLiteral</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>                    <span class='comment val'>#=&gt; &quot;(isLiteral 3.1415)&quot;</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:str</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:datatype</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span> <span class='comment val'>#=&gt; &quot;(str (datatype 3.1415))&quot;</span>
</code></pre>

<h2>Constructing operator expressions using SSE forms</h2>

<pre class="code ruby"><code><span class='rubyid_Expression constant id'>Expression</span><span class='lbrack token'>[</span><span class='symbol val'>:isBlank</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span><span class='lparen token'>(</span><span class='symbol val'>:foobar</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>                          <span class='comment val'>#=&gt; &quot;(isBlank _:foobar)&quot;</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='lbrack token'>[</span><span class='symbol val'>:isIRI</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_URI constant id'>URI</span><span class='lparen token'>(</span><span class='string val'>'http://rdf.rubyforge.org/'</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>         <span class='comment val'>#=&gt; &quot;(isIRI &lt;http://rdf.rubyforge.org/&gt;)&quot;</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='lbrack token'>[</span><span class='symbol val'>:isLiteral</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>                      <span class='comment val'>#=&gt; &quot;(isLiteral 3.1415)&quot;</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='lbrack token'>[</span><span class='symbol val'>:str</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:datatype</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sxp identifier id'>to_sxp</span>               <span class='comment val'>#=&gt; &quot;(str (datatype 3.1415))&quot;</span>
</code></pre>

<h2>Constructing operator expressions using SSE strings</h2>

<pre class="code ruby"><code><span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(isBlank _:foobar)'</span><span class='rparen token'>)</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(isIRI &lt;http://rdf.rubyforge.org/&gt;)'</span><span class='rparen token'>)</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(isLiteral 3.1415)'</span><span class='rparen token'>)</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(str (datatype 3.1415))'</span><span class='rparen token'>)</span>
</code></pre>

<h2>Evaluating operators standalone</h2>

<pre class="code ruby"><code><span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isBlank</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_evaluate identifier id'>evaluate</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span><span class='lparen token'>(</span><span class='symbol val'>:foobar</span><span class='rparen token'>)</span><span class='rparen token'>)</span>                          <span class='comment val'>#=&gt; RDF::Literal::TRUE</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isIRI</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_evaluate identifier id'>evaluate</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_DC constant id'>DC</span><span class='dot token'>.</span><span class='rubyid_title identifier id'>title</span><span class='rparen token'>)</span>                                 <span class='comment val'>#=&gt; RDF::Literal::TRUE</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isLiteral</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_evaluate identifier id'>evaluate</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rparen token'>)</span>                      <span class='comment val'>#=&gt; RDF::Literal::TRUE</span>
</code></pre>

<h2>Optimizing expressions containing constant subexpressions</h2>

<pre class="code ruby"><code><span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(sameTerm ?var ?var)'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_optimize identifier id'>optimize</span>            <span class='comment val'>#=&gt; RDF::Literal::TRUE</span>
<span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(* -2 (- (* (+ 1 2) (+ 3 4))))'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_optimize identifier id'>optimize</span>  <span class='comment val'>#=&gt; RDF::Literal(42)</span>
</code></pre>

<h2>Evaluating expressions on a solution sequence</h2>

<pre class="code ruby"><code><span class='comment val'># Find all people and their names &amp; e-mail addresses:</span>
<span class='rubyid_solutions identifier id'>solutions</span> <span class='assign token'>=</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Query constant id'>Query</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span><span class='lparen token'>(</span><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Graph constant id'>Graph</span><span class='dot token'>.</span><span class='rubyid_load identifier id'>load</span><span class='lparen token'>(</span><span class='string val'>'etc/doap.ttl'</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_query identifier id'>query</span><span class='bitor op'>|</span>
  <span class='rubyid_query identifier id'>query</span><span class='dot token'>.</span><span class='rubyid_pattern identifier id'>pattern</span> <span class='lbrack token'>[</span><span class='symbol val'>:person</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='dot token'>.</span><span class='rubyid_type identifier id'>type</span><span class='comma token'>,</span>  <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_FOAF constant id'>FOAF</span><span class='dot token'>.</span><span class='rubyid_Person constant id'>Person</span><span class='rbrack token'>]</span>
  <span class='rubyid_query identifier id'>query</span><span class='dot token'>.</span><span class='rubyid_pattern identifier id'>pattern</span> <span class='lbrack token'>[</span><span class='symbol val'>:person</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_FOAF constant id'>FOAF</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:name</span><span class='rbrack token'>]</span>
  <span class='rubyid_query identifier id'>query</span><span class='dot token'>.</span><span class='rubyid_pattern identifier id'>pattern</span> <span class='lbrack token'>[</span><span class='symbol val'>:person</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_FOAF constant id'>FOAF</span><span class='dot token'>.</span><span class='rubyid_mbox identifier id'>mbox</span><span class='comma token'>,</span> <span class='symbol val'>:email</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:optional</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_end end kw'>end</span>

<span class='comment val'># Find people who have a name but don't have a known e-mail address:</span>
<span class='rubyid_expression identifier id'>expression</span> <span class='assign token'>=</span> <span class='rubyid_Expression constant id'>Expression</span><span class='lbrack token'>[</span><span class='symbol val'>:not</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:bound</span><span class='comma token'>,</span> <span class='rubyid_Variable constant id'>Variable</span><span class='lparen token'>(</span><span class='symbol val'>:email</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>    <span class='comment val'># ...or just...</span>
<span class='rubyid_expression identifier id'>expression</span> <span class='assign token'>=</span> <span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>'(not (bound ?email))'</span><span class='rparen token'>)</span>
<span class='rubyid_solutions identifier id'>solutions</span><span class='dot token'>.</span><span class='rubyid_filter! fid id'>filter!</span><span class='lparen token'>(</span><span class='rubyid_expression identifier id'>expression</span><span class='rparen token'>)</span>
</code></pre>

<p>Some very simple optimizations are currently implemented for <code>FILTER</code>
expressions. Use the following to obtain optimized SSE forms:</p>

<pre class="code ruby"><code><span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_optimize identifier id'>optimize</span><span class='dot token'>.</span><span class='rubyid_to_sxp_bin identifier id'>to_sxp_bin</span>
</code></pre>

<h2>Constant comparison folding</h2>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='rubyid_sameTerm identifier id'>sameTerm</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; true</span>
</code></pre>

<h2>Constant arithmetic folding</h2>

<pre class="code ruby"><code><span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='plus op'>+</span> <span class='integer val'>123</span><span class='rparen token'>)</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; (!= ?x 123)</span>
<span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='minus op'>-</span> <span class='float val'>-1.0</span><span class='rparen token'>)</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; (!= ?x 1.0)</span>
<span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='plus op'>+</span> <span class='integer val'>1</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; (!= ?x 3)</span>
<span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='minus op'>-</span> <span class='integer val'>4</span> <span class='integer val'>5</span><span class='rparen token'>)</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; (!= ?x -1)</span>
<span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='mult op'>*</span> <span class='integer val'>6</span> <span class='integer val'>7</span><span class='rparen token'>)</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; (!= ?x 42)</span>
<span class='lparen token'>(</span><span class='neq op'>!=</span> <span class='integer val'>?x</span> <span class='lparen token'>(</span><span class='regexp val'>/ 0 0.0))  #=&gt; (!= ?x NaN)
</span></code></pre>

<h2>Memoization</h2>

<p>Expressions can optionally be <a href="http://en.wikipedia.org/wiki/Memoization">memoized</a>, which can speed up
repeatedly executing the expression on a solution sequence:</p>

<pre class="code ruby"><code><span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='comma token'>,</span> <span class='symbol val'>:memoize</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
<span class='rubyid_Operator constant id'>Operator</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_operands identifier id'>operands</span><span class='comma token'>,</span> <span class='symbol val'>:memoize</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
</code></pre>

<p>Memoization is implemented using RDF.rb's <a href="http://rdf.rubyforge.org/RDF/Util/Cache.html">RDF::Util::Cache</a> utility
library, a weak-reference cache that allows values contained in the cache to
be garbage collected. This allows the cache to dynamically adjust to
changing memory conditions, caching more objects when memory is plentiful,
but evicting most objects if memory pressure increases to the point of
scarcity.</p>

<h2>Documentation</h2>

<ul>
<li><span class='object_link'><a href="" title="SPARQL::Algebra (module)">Algebra</a></span>

<ul>
<li><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">Expression</a></span></li>
<li><span class='object_link'><a href="Algebra/Query.html" title="SPARQL::Algebra::Query (module)">Query</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator.html" title="SPARQL::Algebra::Operator (class)">Operator</a></span>

<ul>
<li><span class='object_link'><a href="Algebra/Operator/Add.html" title="SPARQL::Algebra::Operator::Add (class)">Operator::Add</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/And.html" title="SPARQL::Algebra::Operator::And (class)">Operator::And</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Asc.html" title="SPARQL::Algebra::Operator::Asc (class)">Operator::Asc</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Ask.html" title="SPARQL::Algebra::Operator::Ask (class)">Operator::Ask</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Base.html" title="SPARQL::Algebra::Operator::Base (class)">Operator::Base</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Bound.html" title="SPARQL::Algebra::Operator::Bound (class)">Operator::Bound</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Compare.html" title="SPARQL::Algebra::Operator::Compare (class)">Operator::Compare</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Construct.html" title="SPARQL::Algebra::Operator::Construct (class)">Operator::Construct</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Dataset.html" title="SPARQL::Algebra::Operator::Dataset (class)">Operator::Dataset</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Datatype.html" title="SPARQL::Algebra::Operator::Datatype (class)">Operator::Datatype</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Desc.html" title="SPARQL::Algebra::Operator::Desc (class)">Operator::Desc</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Describe.html" title="SPARQL::Algebra::Operator::Describe (class)">Operator::Describe</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Distinct.html" title="SPARQL::Algebra::Operator::Distinct (class)">Operator::Distinct</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Divide.html" title="SPARQL::Algebra::Operator::Divide (class)">Operator::Divide</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Equal.html" title="SPARQL::Algebra::Operator::Equal (class)">Operator::Equal</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Exprlist.html" title="SPARQL::Algebra::Operator::Exprlist (class)">Operator::Exprlist</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Filter.html" title="SPARQL::Algebra::Operator::Filter (class)">Operator::Filter</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Graph.html" title="SPARQL::Algebra::Operator::Graph (class)">Operator::Graph</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/GreaterThan.html" title="SPARQL::Algebra::Operator::GreaterThan (class)">Operator::GreaterThan</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/GreaterThanOrEqual.html" title="SPARQL::Algebra::Operator::GreaterThanOrEqual (class)">Operator::GreaterThanOrEqual</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/IsBlank.html" title="SPARQL::Algebra::Operator::IsBlank (class)">Operator::IsBlank</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/IsIRI.html" title="SPARQL::Algebra::Operator::IsIRI (class)">Operator::IsIRI</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/IsLiteral.html" title="SPARQL::Algebra::Operator::IsLiteral (class)">Operator::IsLiteral</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Join.html" title="SPARQL::Algebra::Operator::Join (class)">Operator::Join</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Lang.html" title="SPARQL::Algebra::Operator::Lang (class)">Operator::Lang</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/LangMatches.html" title="SPARQL::Algebra::Operator::LangMatches (class)">Operator::LangMatches</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/LeftJoin.html" title="SPARQL::Algebra::Operator::LeftJoin (class)">Operator::LeftJoin</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/LessThan.html" title="SPARQL::Algebra::Operator::LessThan (class)">Operator::LessThan</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/LessThanOrEqual.html" title="SPARQL::Algebra::Operator::LessThanOrEqual (class)">Operator::LessThanOrEqual</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Minus.html" title="SPARQL::Algebra::Operator::Minus (class)">Operator::Minus</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Multiply.html" title="SPARQL::Algebra::Operator::Multiply (class)">Operator::Multiply</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Not.html" title="SPARQL::Algebra::Operator::Not (class)">Operator::Not</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/NotEqual.html" title="SPARQL::Algebra::Operator::NotEqual (class)">Operator::NotEqual</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Or.html" title="SPARQL::Algebra::Operator::Or (class)">Operator::Or</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Order.html" title="SPARQL::Algebra::Operator::Order (class)">Operator::Order</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Plus.html" title="SPARQL::Algebra::Operator::Plus (class)">Operator::Plus</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Prefix.html" title="SPARQL::Algebra::Operator::Prefix (class)">Operator::Prefix</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Project.html" title="SPARQL::Algebra::Operator::Project (class)">Operator::Project</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Reduced.html" title="SPARQL::Algebra::Operator::Reduced (class)">Operator::Reduced</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Regex.html" title="SPARQL::Algebra::Operator::Regex (class)">Operator::Regex</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/SameTerm.html" title="SPARQL::Algebra::Operator::SameTerm (class)">Operator::SameTerm</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Slice.html" title="SPARQL::Algebra::Operator::Slice (class)">Operator::Slice</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Str.html" title="SPARQL::Algebra::Operator::Str (class)">Operator::Str</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Subtract.html" title="SPARQL::Algebra::Operator::Subtract (class)">Operator::Subtract</a></span></li>
<li><span class='object_link'><a href="Algebra/Operator/Union.html" title="SPARQL::Algebra::Operator::Union (class)">Operator::Union</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>


<h1>TODO</h1>

<ul>
<li>Need to come up with appropriate SXP for SPARQL 1.1</li>
<li>Operator#optimize needs to be completed and tested.</li>
</ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'><p>Optimizations</p></div></h4>
      <pre class="example code">
</pre>
    
  </div>


  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="http://www.w3.org/TR/rdf-sparql-query/#sparqlAlgebra" target="_parent" title="http://www.w3.org/TR/rdf-sparql-query/#sparqlAlgebra">http://www.w3.org/TR/rdf-sparql-query/#sparqlAlgebra</a></li>
    
  </ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Algebra/Evaluatable.html" title="SPARQL::Algebra::Evaluatable (module)">Evaluatable</a></span>, <span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">Expression</a></span>, <span class='object_link'><a href="Algebra/Query.html" title="SPARQL::Algebra::Query (module)">Query</a></span>, <span class='object_link'><a href="Algebra/VERSION.html" title="SPARQL::Algebra::VERSION (module)">VERSION</a></span>
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Algebra/Operator.html" title="SPARQL::Algebra::Operator (class)">Operator</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="Variable-constant" class="">Variable =
          
        </dt>
        <dd><pre class="code"><span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Query constant id'>Query</span><span class='colon2 op'>::</span><span class='rubyid_Variable constant id'>Variable</span>
</pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../RDF.html" title="RDF (module)">RDF</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../RDF.html#Enumerator-constant" title="RDF::Enumerator (constant)">RDF::Enumerator</a></span>, <span class='object_link'><a href="../RDF.html#VOCABS-constant" title="RDF::VOCABS (constant)">RDF::VOCABS</a></span></p>





  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Expression-instance_method" title="#Expression (instance method)">- (SPARQL::Algebra::Expression) <strong>Expression</strong>(*sse) </a>
    

    
      (also: #Expr)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-instance_method" title="#open (instance method)">- (Expression) <strong>open</strong>(sse, options = {}) {|expression| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Parses input from the given file name or URL.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Operator-instance_method" title="#Operator (instance method)">- (Class) <strong>Operator</strong>(name, arity = nil) </a>
    

    
      (also: #Op)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-instance_method" title="#parse (instance method)">- (SPARQL::Algebra::Operator) <strong>parse</strong>(sse, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Variable-instance_method" title="#Variable (instance method)">- (Variable) <strong>Variable</strong>(name) </a>
    

    
      (also: #Var)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../RDF.html" title="RDF (module)">RDF</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../RDF.html#Graph-class_method" title="RDF.Graph (method)">Graph</a></span>, <span class='object_link'><a href="../RDF.html#Literal-class_method" title="RDF.Literal (method)">Literal</a></span>, <span class='object_link'><a href="../RDF.html#Node-class_method" title="RDF.Node (method)">Node</a></span>, <span class='object_link'><a href="../RDF.html#Resource-class_method" title="RDF.Resource (method)">Resource</a></span>, <span class='object_link'><a href="../RDF.html#Statement-class_method" title="RDF.Statement (method)">Statement</a></span>, <span class='object_link'><a href="../RDF.html#URI-class_method" title="RDF.URI (method)">URI</a></span>, <span class='object_link'><a href="../RDF.html#Vocabulary-class_method" title="RDF.Vocabulary (method)">Vocabulary</a></span>, <span class='object_link'><a href="../RDF.html#%5B%5D-class_method" title="RDF.[] (method)">[]</a></span>, <span class='object_link'><a href="../RDF.html#method_missing-class_method" title="RDF.method_missing (method)">method_missing</a></span>, <span class='object_link'><a href="../RDF.html#to_rdf-class_method" title="RDF.to_rdf (method)">to_rdf</a></span>, <span class='object_link'><a href="../RDF.html#to_uri-class_method" title="RDF.to_uri (method)">to_uri</a></span>, <span class='object_link'><a href="../RDF.html#type-class_method" title="RDF.type (method)">type</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="Expression-instance_method">
  
    - (<tt><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">SPARQL::Algebra::Expression</a></span></tt>) <strong>Expression</strong>(*sse) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='Expr-instance_method'>Expr</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='rubyid_Expression constant id'>Expression</span><span class='lparen token'>(</span><span class='symbol val'>:isLiteral</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_Literal constant id'>Literal</span><span class='lparen token'>(</span><span class='float val'>3.1415</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>sse</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a SPARQL S-Expression (SSE) form</p></div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">SPARQL::Algebra::Expression</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


334
335
336</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb', line 334</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_Expression constant id'>Expression</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_sse identifier id'>sse</span><span class='rparen token'>)</span>
  <span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_sse identifier id'>sse</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="open-instance_method">
  
    - (<tt><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">Expression</a></span></tt>) <strong>open</strong>(sse, options = {}) {|expression| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Parses input from the given file name or URL.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>filename</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>#to_s</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>any additional options (see <span class='object_link'><a href="Algebra/Operator.html#initialize-instance_method" title="SPARQL::Algebra::Operator#initialize (method)">SPARQL::Algebra::Operator#initialize</a></span>)</p></div>
      
    </li>
  
</ul>

  
    
    
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="name">:base_uri</span>
          <span class="type">(<tt><span class='object_link'><a href="../RDF/URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>, <tt>#to_s</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>Base URI used for loading relative URIs.</p></div>
        </li>
      
    </ul>
  

<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>expression</tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>expression</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">SPARQL::Algebra::Expression</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Yield Returns:</h3>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>void</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>ignored</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Algebra/Expression.html" title="SPARQL::Algebra::Expression (module)">Expression</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb', line 322</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_open identifier id'>open</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_open identifier id'>open</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="Operator-instance_method">
  
    - (<tt>Class</tt>) <strong>Operator</strong>(name, arity = nil) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='Op-instance_method'>Op</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='symbol val'>:isLiteral</span><span class='rparen token'>)</span>
</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>#to_sym</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb', line 346</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_Operator constant id'>Operator</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_arity identifier id'>arity</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='rubyid_Operator constant id'>Operator</span><span class='dot token'>.</span><span class='rubyid_for identifier id'>for</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_arity identifier id'>arity</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parse-instance_method">
  
    - (<tt><span class='object_link'><a href="Algebra/Operator.html" title="SPARQL::Algebra::Operator (class)">SPARQL::Algebra::Operator</a></span></tt>) <strong>parse</strong>(sse, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='rubyid_sse identifier id'>sse</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='rubyid_prefix identifier id'>prefix</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='rubyid_foaf identifier id'>foaf</span><span class='colon op'>:</span> <span class='lt op'>&lt;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/xmlns.com/</span><span class='rubyid_foaf identifier id'>foaf</span><span class='div op'>/</span><span class='integer val'>0</span><span class='integer val'>.1</span><span class='div op'>/</span><span class='gt op'>&gt;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='lparen token'>(</span><span class='rubyid_project identifier id'>project</span> <span class='lparen token'>(</span><span class='integer val'>?n</span><span class='rubyid_ame identifier id'>ame</span> <span class='question op'>?</span><span class='rubyid_mbox identifier id'>mbox</span><span class='rparen token'>)</span>
          <span class='lparen token'>(</span><span class='rubyid_join identifier id'>join</span>
            <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span> <span class='rubyid_foaf identifier id'>foaf</span><span class='symbol val'>:name</span> <span class='question op'>?</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
            <span class='lparen token'>(</span><span class='rubyid_bgp identifier id'>bgp</span> <span class='lparen token'>(</span><span class='rubyid_triple identifier id'>triple</span> <span class='question op'>?</span><span class='rubyid_x identifier id'>x</span> <span class='rubyid_foaf identifier id'>foaf</span><span class='symbol val'>:mbox</span> <span class='question op'>?</span><span class='rubyid_mbox identifier id'>mbox</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='rbrace token'>}</span>
</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>sse</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a SPARQL S-Expression (SSE) string</p></div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{<span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>any additional options (see <span class='object_link'><a href="Algebra/Operator.html#initialize-instance_method" title="SPARQL::Algebra::Operator#initialize (method)">SPARQL::Algebra::Operator#initialize</a></span>)</p></div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Algebra/Operator.html" title="SPARQL::Algebra::Operator (class)">SPARQL::Algebra::Operator</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb', line 304</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_Expression constant id'>Expression</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_sse identifier id'>sse</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="Variable-instance_method">
  
    - (<tt><span class='object_link'><a href="#Variable-constant" title="SPARQL::Algebra::Variable (constant)">Variable</a></span></tt>) <strong>Variable</strong>(name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='Var-instance_method'>Var</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"><span class='rubyid_Variable constant id'>Variable</span><span class='lparen token'>(</span><span class='symbol val'>:foobar</span><span class='rparen token'>)</span>
</pre>
    
  </div>
<h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt>#to_sym</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Variable-constant" title="SPARQL::Algebra::Variable (constant)">Variable</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="http://rdf.rubyforge.org/RDF/Query/Variable.html" target="_parent" title="http://rdf.rubyforge.org/RDF/Query/Variable.html">http://rdf.rubyforge.org/RDF/Query/Variable.html</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


359
360
361</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/sparql-f1f1ee57a398/lib/sparql/algebra.rb', line 359</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_Variable constant id'>Variable</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_Variable constant id'>Variable</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Mar  4 19:05:46 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.8.7).
</div>

  </body>
</html>