<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: RDF::RDFa::Reader::Nokogiri
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../';
  framesUrl = "../../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (N)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../RDFa.html" title="RDF::RDFa (module)">RDFa</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Reader.html" title="RDF::RDFa::Reader (class)">Reader</a></span></span>
     &raquo; 
    <span class="title">Nokogiri</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: RDF::RDFa::Reader::Nokogiri
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Nokogiri implementation of an XML parser.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://nokogiri.org/" target="_parent" title="http://nokogiri.org/">http://nokogiri.org/</a></li>
    
  </ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Nokogiri/NodeProxy.html" title="RDF::RDFa::Reader::Nokogiri::NodeProxy (class)">NodeProxy</a></span>, <span class='object_link'><a href="Nokogiri/NodeSetProxy.html" title="RDF::RDFa::Reader::Nokogiri::NodeSetProxy (class)">NodeSetProxy</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#library-class_method" title="library (class method)">+ (Symbol) <strong>library</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the name of the underlying XML library.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_host_language_version-instance_method" title="#detect_host_language_version (instance method)">- (Object) <strong>detect_host_language_version</strong>(input, options) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Determine the host language and/or version from options and the input document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doc_base-instance_method" title="#doc_base (instance method)">- (String) <strong>doc_base</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Find value of document base.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doc_errors-instance_method" title="#doc_errors (instance method)">- (Object) <strong>doc_errors</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Document errors.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_xml-instance_method" title="#initialize_xml (instance method)">- <strong>initialize_xml</strong>(input, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes the underlying XML library.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">- (Object) <strong>root</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return proxy for document root.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="library-class_method">
  
    + (<tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>) <strong>library</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the name of the underlying XML library.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 12</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_library identifier id'>library</span>
  <span class='symbol val'>:nokogiri</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="detect_host_language_version-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>detect_host_language_version</strong>(input, options) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Determine the host language and/or version from options and the input document</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 185</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_detect_host_language_version identifier id'>detect_host_language_version</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_@host_language ivar id'>@host_language</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:host_language</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:host_language</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sym identifier id'>to_sym</span> <span class='colon op'>:</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_@version ivar id'>@version</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:version</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:version</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_sym identifier id'>to_sym</span> <span class='colon op'>:</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@host_language ivar id'>@host_language</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@version ivar id'>@version</span>

  <span class='comment val'># Snif version based on input</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_input identifier id'>input</span>
  <span class='rubyid_when when kw'>when</span> <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span><span class='comma token'>,</span> <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_HTML constant id'>HTML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span>
    <span class='rubyid_doc_type_string identifier id'>doc_type_string</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_children identifier id'>children</span><span class='dot token'>.</span><span class='rubyid_detect identifier id'>detect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_c identifier id'>c</span><span class='bitor op'>|</span> <span class='rubyid_c identifier id'>c</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_DTD constant id'>DTD</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='rubyid_version_attr identifier id'>version_attr</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;version&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_root_element identifier id'>root_element</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span>
    <span class='rubyid_root_namespace identifier id'>root_namespace</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_root_attrs identifier id'>root_attrs</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_attributes identifier id'>attributes</span>
    <span class='rubyid_content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_root_element identifier id'>root_element</span> <span class='eq op'>==</span> <span class='string val'>&quot;html&quot;</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_HTML constant id'>HTML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span><span class='rparen token'>)</span>
      <span class='string val'>&quot;text/html&quot;</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_root_element identifier id'>root_element</span> <span class='eq op'>==</span> <span class='string val'>&quot;html&quot;</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span><span class='rparen token'>)</span>
      <span class='string val'>&quot;application/xhtml+html&quot;</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_content_type identifier id'>content_type</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:content_type</span><span class='rparen token'>)</span>

    <span class='comment val'># Determine from head of document</span>
    <span class='rubyid_head identifier id'>head</span> <span class='assign token'>=</span> <span class='rubyid_if if kw'>if</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:read</span><span class='rparen token'>)</span>
      <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_rewind identifier id'>rewind</span>
      <span class='rubyid_string identifier id'>string</span> <span class='assign token'>=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>1000</span><span class='rparen token'>)</span>
      <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_rewind identifier id'>rewind</span>
      <span class='rubyid_string identifier id'>string</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>1000</span><span class='rbrack token'>]</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='rubyid_doc_type_string identifier id'>doc_type_string</span> <span class='assign token'>=</span> <span class='rubyid_head identifier id'>head</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;!DOCTYPE[^&gt;]*&gt;)</span><span class='rubyid_m identifier id'>m</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_root identifier id'>root</span> <span class='assign token'>=</span> <span class='rubyid_head identifier id'>head</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;[^!\?&gt;]*&gt;)</span><span class='rubyid_m identifier id'>m</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_root_element identifier id'>root_element</span> <span class='assign token'>=</span> <span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(^&lt;(\S+)[ &gt;])</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='rubyid_$1 nth_ref id'>$1</span> <span class='colon op'>:</span> <span class='string val'>&quot;&quot;</span>
    <span class='rubyid_version_attr identifier id'>version_attr</span> <span class='assign token'>=</span> <span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/version\s+=\s+(\S+)[\s&quot;&gt;]/</span><span class='rubyid_m identifier id'>m</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='rubyid_$1 nth_ref id'>$1</span> <span class='colon op'>:</span> <span class='string val'>&quot;&quot;</span>
    <span class='rubyid_head_element identifier id'>head_element</span> <span class='assign token'>=</span> <span class='rubyid_head identifier id'>head</span><span class='dot token'>.</span><span class='rubyid_match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>%r(&lt;head.*&lt;\/head&gt;)</span><span class='rubyid_mi identifier id'>mi</span><span class='rparen token'>)</span>
    <span class='rubyid_head_doc identifier id'>head_doc</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_HTML constant id'>HTML</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_head_element identifier id'>head_element</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>

    <span class='comment val'># May determine content-type and/or charset from meta</span>
    <span class='comment val'># Easist way is to parse head into a document and iterate</span>
    <span class='comment val'># of CSS matches</span>
    <span class='rubyid_head_doc identifier id'>head_doc</span><span class='dot token'>.</span><span class='rubyid_css identifier id'>css</span><span class='lparen token'>(</span><span class='string val'>&quot;meta&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;http-equiv&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span> <span class='eq op'>==</span> <span class='string val'>'content-type'</span>
        <span class='rubyid_content_type identifier id'>content_type</span><span class='comma token'>,</span> <span class='rubyid_e identifier id'>e</span> <span class='assign token'>=</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;content&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;;&quot;</span><span class='rparen token'>)</span>
        <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/charset=([^\s]*)$/i</span>
      <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;charset&quot;</span><span class='rparen token'>)</span>
        <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;charset&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Already using XML parser, determine from DOCTYPE and/or root element</span>
  <span class='rubyid_@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.0&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_doc_type_string identifier id'>doc_type_string</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.0/</span>
  <span class='rubyid_@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.0&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_version_attr identifier id'>version_attr</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.0/</span>
  <span class='rubyid_@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.1&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_version_attr identifier id'>version_attr</span> <span class='match op'>=~</span> <span class='regexp val'>/RDFa 1\.1/</span>
  <span class='rubyid_@version ivar id'>@version</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:&quot;rdfa1.1&quot;</span>

  <span class='rubyid_@host_language ivar id'>@host_language</span> <span class='opasgn op'>||=</span> <span class='symbol val'>:xhtml1</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@version ivar id'>@version</span> <span class='eq op'>==</span> <span class='symbol val'>:&quot;rdfa1.0&quot;</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_doc_type_string identifier id'>doc_type_string</span> <span class='match op'>=~</span> <span class='regexp val'>/html/i</span>

  <span class='rubyid_@host_language ivar id'>@host_language</span> <span class='opasgn op'>||=</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_content_type identifier id'>content_type</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&quot;application/xml&quot;</span>  <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:xml</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&quot;image/svg+xml&quot;</span>    <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:svg</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&quot;text/html&quot;</span>
    <span class='rubyid_case case kw'>case</span> <span class='rubyid_doc_type_string identifier id'>doc_type_string</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/html 4/i</span>        <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:html4</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/xhtml/i</span>         <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:xhtml1</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/html/i</span>          <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:html5</span>
    <span class='rubyid_else else kw'>else</span>                       <span class='symbol val'>:html5</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&quot;application/xhtml+xml&quot;</span>
    <span class='rubyid_case case kw'>case</span> <span class='rubyid_doc_type_string identifier id'>doc_type_string</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/html 4/i</span>        <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:html4</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/xhtml/i</span>         <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:xhtml1</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/html/i</span>          <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:xhtml5</span>
    <span class='rubyid_else else kw'>else</span>                       <span class='symbol val'>:xhtml5</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_case case kw'>case</span> <span class='rubyid_root_element identifier id'>root_element</span>
    <span class='rubyid_when when kw'>when</span> <span class='regexp val'>/svg/i</span>           <span class='rubyid_then then kw'>then</span> <span class='symbol val'>:svg</span>
    <span class='rubyid_else else kw'>else</span>                       <span class='symbol val'>:html5</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="doc_base-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>) <strong>doc_base</strong>(base) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Find value of document base</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>base</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Existing base from URI or :base_uri</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292
293
294
295
296
297
298
299
300
301
302</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 290</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_doc_base identifier id'>doc_base</span><span class='lparen token'>(</span><span class='rubyid_base identifier id'>base</span><span class='rparen token'>)</span>
  <span class='comment val'># find if the document has a base element</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_@host_language ivar id'>@host_language</span>
  <span class='rubyid_when when kw'>when</span> <span class='symbol val'>:xhtml1</span><span class='comma token'>,</span> <span class='symbol val'>:xhtml5</span><span class='comma token'>,</span> <span class='symbol val'>:html4</span><span class='comma token'>,</span> <span class='symbol val'>:html5</span>
    <span class='rubyid_base_el identifier id'>base_el</span> <span class='assign token'>=</span> <span class='rubyid_@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='rubyid_at_css identifier id'>at_css</span><span class='lparen token'>(</span><span class='string val'>&quot;html&gt;head&gt;base&quot;</span><span class='rparen token'>)</span> 
    <span class='rubyid_base identifier id'>base</span> <span class='assign token'>=</span> <span class='rubyid_base_el identifier id'>base_el</span><span class='dot token'>.</span><span class='rubyid_attribute identifier id'>attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;href&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;#&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_base_el identifier id'>base_el</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_xml_base identifier id'>xml_base</span> <span class='assign token'>=</span> <span class='rubyid_root identifier id'>root</span><span class='dot token'>.</span><span class='rubyid_attribute_with_ns identifier id'>attribute_with_ns</span><span class='lparen token'>(</span><span class='string val'>&quot;base&quot;</span><span class='comma token'>,</span> <span class='rubyid_RDF constant id'>RDF</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_root identifier id'>root</span>
    <span class='rubyid_base identifier id'>base</span> <span class='assign token'>=</span> <span class='rubyid_xml_base identifier id'>xml_base</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_xml_base identifier id'>xml_base</span>
  <span class='rubyid_end end kw'>end</span>
  
  <span class='rubyid_base identifier id'>base</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="doc_errors-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>doc_errors</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Document errors</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 280</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_doc_errors identifier id'>doc_errors</span>
  <span class='comment val'># FIXME: Nokogiri version 1.5.5 things &lt;time&gt; is invalid</span>
  <span class='rubyid_@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='rubyid_errors identifier id'>errors</span><span class='dot token'>.</span><span class='rubyid_reject identifier id'>reject</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_e identifier id'>e</span><span class='bitor op'>|</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/Tag time invalid/</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_xml-instance_method">
  
    - <strong>initialize_xml</strong>(input, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Initializes the underlying XML library.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 163</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize_xml identifier id'>initialize_xml</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_require identifier id'>require</span> <span class='string val'>'nokogiri'</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='rparen token'>)</span>
  <span class='rubyid_@doc ivar id'>@doc</span> <span class='assign token'>=</span> <span class='rubyid_case case kw'>case</span> <span class='rubyid_input identifier id'>input</span>
  <span class='rubyid_when when kw'>when</span> <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_HTML constant id'>HTML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span><span class='comma token'>,</span> <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='colon2 op'>::</span><span class='rubyid_Document constant id'>Document</span>
    <span class='rubyid_input identifier id'>input</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='comment val'># Try to detect charset from input</span>
    <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_charset identifier id'>charset</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_input identifier id'>input</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:charset</span><span class='rparen token'>)</span>
    
    <span class='comment val'># Otherwise, default is utf-8</span>
    <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='string val'>'utf-8'</span>

    <span class='rubyid_case case kw'>case</span> <span class='rubyid_@host_language ivar id'>@host_language</span>
    <span class='rubyid_when when kw'>when</span> <span class='symbol val'>:html4</span><span class='comma token'>,</span> <span class='symbol val'>:html5</span>
      <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_HTML constant id'>HTML</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_base_uri identifier id'>base_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='colon3 op'>::</span><span class='rubyid_Nokogiri constant id'>Nokogiri</span><span class='colon2 op'>::</span><span class='rubyid_XML constant id'>XML</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_input identifier id'>input</span><span class='comma token'>,</span> <span class='rubyid_base_uri identifier id'>base_uri</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:encoding</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>root</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return proxy for document root</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/1.8/bundler/gems/rdf-rdfa-967cd3514d7a/lib/rdf/rdfa/reader/nokogiri.rb', line 274</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_root identifier id'>root</span>
  <span class='rubyid_@root ivar id'>@root</span> <span class='opasgn op'>||=</span> <span class='rubyid_NodeProxy constant id'>NodeProxy</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@doc ivar id'>@doc</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_@doc ivar id'>@doc</span><span class='dot token'>.</span><span class='rubyid_root identifier id'>root</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Mon Jan 21 10:29:52 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.3 (ruby-1.8.7).
</div>

  </body>
</html>