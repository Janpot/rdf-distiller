<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  File: dawg-README
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: dawg-README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><p>&lt;?xml version="1.0" encoding="utf-8"?>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</p>

<pre class="code"><span class='string val'>&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class='gt op'>&gt;</span>
</pre>

<p><html lang="en-GB" xml:lang="en-GB" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>DAWG: Test case structure</title>
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/base.css" /></p>



<p>  <meta name="RCS-Id" content="$Id: README.html,v 1.20 2007/11/27 17:33:43 lfeigenb Exp $" />
</head>
<body>
  <div class="head"></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.w3.org/&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_img identifier id'>img</span> <span class='rubyid_height identifier id'>height</span><span class='assign token'>=</span><span class='string val'>&quot;48&quot;</span> <span class='rubyid_width identifier id'>width</span><span class='assign token'>=</span><span class='string val'>&quot;72&quot;</span> <span class='rubyid_alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;W3C&quot;</span> <span class='rubyid_src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;
http://www.w3.org/Icons/w3c_home&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;
</span></pre>

<h1 id="main">DAWG: Test case structure</h1>


<p>  <dl></p>

<pre class="code">  <span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='bitand op'>&amp;</span><span class='rubyid_nbsp identifier id'>nbsp</span><span class='semicolon token'>;</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
  &lt;dt&gt;Document Editor&lt;/</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;mailto:swh@ecs.soton.ac.uk&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_Steve constant id'>Steve</span> <span class='rubyid_Harris constant id'>Harris</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; &amp;ndash; 
  IAM Research Group, Southampton&lt;/</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;mailto:j.broekstra@tue.nl&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_Jeen constant id'>Jeen</span> <span class='rubyid_Broekstra constant id'>Broekstra</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; &amp;ndash; 
    Information Systems Group, Eindhoven University of Technology&lt;/</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;mailto:feigenbl@us.ibm.com&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_Lee constant id'>Lee</span> <span class='rubyid_Feigenbaum constant id'>Feigenbaum</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; &amp;ndash;
    IBM&lt;/</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='rubyid_Version constant id'>Version</span><span class='symbol val'>:&lt;</span><span class='regexp val'>/dt&gt;
  &lt;dd&gt;&lt;code&gt;$Revision: 1.20 $&lt;/</span><span class='rubyid_code identifier id'>code</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
</span></pre>

<p>  </dl></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_p identifier id'>p</span> <span class='rubyid_class class kw'>class</span><span class='assign token'>=</span><span class='string val'>&quot;copyright&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;
http://www.w3.org/Consortium/Legal/ipr-notice#Copyright&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_Copyright constant id'>Copyright</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; &amp;copy;
2004 &lt;a href=&quot;http:/</span><span class='div op'>/</span><span class='rubyid_www identifier id'>www</span><span class='dot token'>.</span><span class='rubyid_w3 identifier id'>w3</span><span class='dot token'>.</span><span class='rubyid_org identifier id'>org</span><span class='div op'>/</span><span class='string val'>&quot;&gt;&lt;acronym title=&quot;</span>
<span class='rubyid_World constant id'>World</span> <span class='rubyid_Wide constant id'>Wide</span> <span class='rubyid_Web constant id'>Web</span> <span class='rubyid_Consortium constant id'>Consortium</span><span class='string val'>&quot;&gt;W3C&lt;/acronym&gt;&lt;/a&gt;&lt;sup&gt;&amp;reg;&lt;/sup&gt; ( &lt;a href=&quot;</span>
<span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.csail.mit.edu/</span><span class='string val'>&quot;&gt;&lt;acronym title=&quot;</span>
<span class='rubyid_Massachusetts constant id'>Massachusetts</span> <span class='rubyid_Institute constant id'>Institute</span> <span class='rubyid_of identifier id'>of</span> <span class='rubyid_Technology constant id'>Technology</span><span class='string val'>&quot;&gt;MIT&lt;/acronym&gt;&lt;/a&gt;, &lt;a href=&quot;</span>
<span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.ercim.org/</span><span class='string val'>&quot;&gt;&lt;acronym title=&quot;</span>
<span class='rubyid_European constant id'>European</span> <span class='rubyid_Research constant id'>Research</span> <span class='rubyid_Consortium constant id'>Consortium</span> <span class='rubyid_for for kw'>for</span> <span class='rubyid_Informatics constant id'>Informatics</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_Mathematics constant id'>Mathematics</span><span class='string val'>&quot;&gt;ERCIM&lt;/acronym&gt;&lt;/a&gt;,
&lt;a href=&quot;</span><span class='rubyid_http identifier id'>http</span><span class='colon op'>:</span><span class='regexp val'>//</span><span class='rubyid_www identifier id'>www</span><span class='dot token'>.</span><span class='rubyid_keio identifier id'>keio</span><span class='dot token'>.</span><span class='rubyid_ac identifier id'>ac</span><span class='dot token'>.</span><span class='rubyid_jp identifier id'>jp</span><span class='div op'>/</span><span class='string val'>&quot;&gt;Keio&lt;/a&gt;), All Rights Reserved. W3C
&lt;a href=&quot;</span>
<span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.w3.org/</span><span class='rubyid_Consortium constant id'>Consortium</span><span class='div op'>/</span><span class='rubyid_Legal constant id'>Legal</span><span class='div op'>/</span><span class='rubyid_ipr identifier id'>ipr</span><span class='minus op'>-</span><span class='rubyid_notice identifier id'>notice</span><span class='comment val'>#Legal_Disclaimer&quot;&gt;liability&lt;/a&gt;,</span>
<span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;
http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_trademark identifier id'>trademark</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;,
and &lt;a href=&quot;
http:/</span><span class='div op'>/</span><span class='rubyid_www identifier id'>www</span><span class='dot token'>.</span><span class='rubyid_w3 identifier id'>w3</span><span class='dot token'>.</span><span class='rubyid_org identifier id'>org</span><span class='div op'>/</span><span class='rubyid_Consortium constant id'>Consortium</span><span class='div op'>/</span><span class='rubyid_Legal constant id'>Legal</span><span class='div op'>/</span><span class='rubyid_copyright identifier id'>copyright</span><span class='minus op'>-</span><span class='rubyid_documents identifier id'>documents</span><span class='string val'>&quot;&gt;document use&lt;/a&gt;

rules apply.&lt;/p&gt;&lt;/div&gt;
</span></pre>

<hr title="Separator for header" />


<div>
<h2 id="abstract">Abstract</h2>
<p>This document describes the testing process used by the
<a href="http://www.w3.org/2001/sw/DataAccess/tests">RDF Data Access Working 
Group</a>.</p>
</div>


<div>
    <h2><a name="status" id="status">Status of This Document</a></h2>
    <p>Working Document.</p>
</div>


<p>  <hr /></p>

<p>
The
<a href="http://www.w3.org/2001/sw/DataAccess/">RDF Data Access Working 
Group</a> (DAWG) uses a test-driven process.&nbsp; The
<a href="r2">test area</a> is a 
collection of the current test cases of the working group. </p>


<p>  <p>
Tests are divided into collections (corresponding to directories) for manageability.&nbsp; Each collection
of tests has a <em>manifest file</em> within its directory (usually named
<tt>manifest.ttl</tt>, but sometimes <tt>manifest.n3</tt>).
There is also a pair of overall manifests containing entries pointing to the
individual test collection manifests: One is a <a
href="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/manifest-syntax.ttl">manifest
of syntax-only tests</a> (positive and negative tests); the other is a <a
href="http://www.w3.org/2001/sw/DataAccess/tests/data-r2/manifest-evaluation.ttl">manifest
of query-evaluation tests</a>.</p></p>

<h4>Reorganization</h4>


<p>
The Working Group recently completed reorganizing the test suite. The
output of this reorganization process can be found in the <a
href="data-r2/">data-r2</a> directory. The tests here are restructured
copies of tests from the previous test suite along with new tests aimed at
covering as much of the SPARQL Query Language as possible. The purpose of this
restructuring is to enhance usability, clear away obsolete tests and
provide an up-to-date, consistent, and easy-to-use suite of test cases that
SPARQL query language implementors can use to evaluate and report on their
implementation.
</p>


<p>
The Working Group decided on <a
href="http://lists.w3.org/Archives/Public/public-rdf-dawg/2007JulSep/att-0096/21-dawg-minutes.html#item05">21
Aug 2007</a> that the tests as-is constitute a test suite that the group will
use to generate an implementation report for the SPARQL Query Language for
RDF.</p>


<p></p>
  <h4>Manifest Vocabularies</h4></p>

<p>  <p>The DAWG's test manifest files define three vocabularies to express
  tests:</p></p>

<p>  <ol></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;test-manifest.n3&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_manifest identifier id'>manifest</span> <span class='rubyid_vocabulary identifier id'>vocabulary</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; (prefixed with
&lt;tt&gt;mf:&lt;/</span><span class='rubyid_tt identifier id'>tt</span><span class='gt op'>&gt;</span> <span class='rubyid_below identifier id'>below</span><span class='rparen token'>)</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
&lt;li&gt;&lt;a href=&quot;test-query.n3&quot;&gt;query-evaluation test vocabulary&lt;/</span><span class='rubyid_a identifier id'>a</span><span class='gt op'>&gt;</span> <span class='lparen token'>(</span><span class='rubyid_prefixed identifier id'>prefixed</span>
<span class='rubyid_with identifier id'>with</span> <span class='lt op'>&lt;</span><span class='rubyid_tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='rubyid_qt identifier id'>qt</span><span class='symbol val'>:&lt;</span><span class='regexp val'>/tt&gt; below)&lt;/</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;test-dawg.n3&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_DAWG constant id'>DAWG</span> <span class='rubyid_test identifier id'>test</span> <span class='rubyid_approval identifier id'>approval</span> <span class='rubyid_vocabulary identifier id'>vocabulary</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; (prefixed
with &lt;tt&gt;dawgt:&lt;/</span><span class='rubyid_tt identifier id'>tt</span><span class='gt op'>&gt;</span> <span class='rubyid_below identifier id'>below</span><span class='rparen token'>)</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>

<p>  </ol></p>

<p>  <p>All examples below use these prefix bindings (specified in <a
  href="http://www.w3.org/2001/sw/DataAccess/df1/">turtle</a>):</p></p>

<p>  <pre class="diag">@prefix rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix mf:      &lt;http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#&gt; .
@prefix dawgt:   &lt;http://www.w3.org/2001/sw/DataAccess/tests/test-dawg#&gt; .
@prefix qt:      &lt;http://www.w3.org/2001/sw/DataAccess/tests/test-query#&gt; .
  </pre></p>

<p>  <h4>Manifest Structure</h4></p>

<p>  <p>
A manifest is a list (RDF Collection) of tests. Every test has
a name (<tt>mf:name</tt>); many tests also have a comment
(<tt>rdfs:comment</tt>) explaining the purpose of the test. The <tt>dawgt:approval</tt> predicate relates a test
to its official Working Group status (e.g. <tt>dawgt:Approved</tt>). Tests are
grouped (via their <tt>rdf:type</tt>) as syntax tests (an <tt>rdf:type</tt> of
either <tt>mf:PositiveSyntaxTest</tt> or <tt>mf:NegativeSyntaxTest</tt>) or
query-evaluation test (an <tt>rdf:type</tt> of
<tt>mf:QueryEvaluationTest</tt>).</p></p>

<p>  <h4>Syntax Tests</h4></p>

<p>  <p>
Each syntax test has an <tt>mf:action</tt>, the object of which is a
resource identifying a (possible) query string. An example definition of a
syntax test is:
  </p></p>

<pre class="diag">
&lt;#syntax-basic-01&gt;  mf:name  "syntax-basic-01.rq" ;
     rdf:type   mf:PositiveSyntaxTest ;
     mf:action  &lt;syntax-basic-01.rq&gt; ;
     dawgt:approvedBy &lt;http://lists.w3.org/Archives/Public/public-rdf-dawg/2007JanMar/0047&gt; ;
     dawgt:approval dawgt:Approved .
</pre>




<p>
A SPARQL implementation passes a <tt>mf:PositiveSyntaxTest</tt> if it parses
the query string without error. A SPARQL implementation passes a
<tt>mf:NegativeSyntaxTest</tt> if it raises an error while attempting to parse
the query string.
</p>


<p>  <h4>Query-Evaluation Tests</h4></p>

<p>  <p>Each query-evaluation test has an <tt>mf:action</tt> and an
  <tt>mf:result</tt>. The object of <tt>mf:action</tt> is a resource with
  properties taken from the query-evaluation test vocabulary. At a minimum, a
  test's action includes a <tt>qt:data</tt> relation and a <tt>qt:query</tt>
  relation. The <tt>qt:data</tt> predicate points to a URI
  that can be dereferenced to yield the default graph for the test. The
  <tt>qt:query</tt> prediate points to a URI that can be dereferenced to yield
  the query string for the test. Query-evaluation tests may also use the
  <tt>qt:graphData</tt> predicate to indicate the named graph components of
  the test's RDF dataset.</p></p>

<p>  <p>Query evaluation tests also contain an <tt>mf:result</tt> which points to
  a URI that can be dereferenced to yield the
  expected results of the test query. These results are expressed in one of
  several possible ways:</p></p>

<p>  <ul></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span><span class='rubyid_The constant id'>The</span> <span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.w3.org/TR/rdf-sparql-XMLres/&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_SPARQL constant id'>SPARQL</span> <span class='rubyid_Query constant id'>Query</span>
<span class='rubyid_Results constant id'>Results</span> <span class='rubyid_XML constant id'>XML</span> <span class='rubyid_Format constant id'>Format</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;. SELECT or ASK queries.&lt;/</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span><span class='rubyid_The constant id'>The</span> <span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;result-set.n3&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_DAWG constant id'>DAWG</span> <span class='rubyid_result identifier id'>result</span><span class='minus op'>-</span><span class='rubyid_set identifier id'>set</span> <span class='rubyid_RDF constant id'>RDF</span> <span class='rubyid_vocabulary identifier id'>vocabulary</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;.
SELECT or ASK queries.&lt;/</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='rubyid_li identifier id'>li</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.w3.org/TR/rdf-syntax-grammar/&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_RDF constant id'>RDF</span><span class='div op'>/</span><span class='rubyid_XML constant id'>XML</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; or &lt;a
href=&quot;http:/</span><span class='div op'>/</span><span class='rubyid_www identifier id'>www</span><span class='dot token'>.</span><span class='rubyid_dajobe identifier id'>dajobe</span><span class='dot token'>.</span><span class='rubyid_org identifier id'>org</span><span class='div op'>/</span><span class='integer val'>2004</span><span class='div op'>/</span><span class='integer val'>01</span><span class='div op'>/</span><span class='rubyid_turtle identifier id'>turtle</span><span class='div op'>/</span><span class='string val'>&quot;&gt;Turtle&lt;/a&gt;. CONSTRUCT queries.&lt;/li&gt;
</span></pre>

<p>  </ul></p>

<p>A SPARQL implementation passes a query-evaluation test if the graph
produced by evaluating the query against the RDF dataset (and encoding in the
DAWG result set vocabulary, if necessary) is 
href="http://www.w3.org/TR/rdf-concepts/#section-graph-equality">equivalent</a> [RDF-CONCEPTS] 
to the graph named in the result (after encoding in the DAWG result set
vocabulary, if necessary). Equivalence can be tested by 
checking that the graphs are isomorphic and have identical IRI and 
literal nodes. Note that testing whether two result sets are isomorphic is simpler than full graph isomorphism. Iterating over rows in one set, finding a match with the other set, removing this pair, then making sure all rows are accounted for, achieves the same effect.</p>




<p>Query evaluation tests that involve the <a href="http://www.w3.org/TR/rdf-sparql-query#modReduced">REDUCED</a> keyword have slightly different passing criteria. These tests are indicated in the manifest files with the <tt>mf:resultCardinality</tt> predicate with an object of <tt>mf:LaxCardinality</tt>. To pass such a test, the result set produced by a SPARQL implementation must contain each solution in the expected result set at least once and no more than the number of times that the solution occurs in the expected result set. (That is, the expected result set contains the solutions with cardinalities as they would be if the query did not contain REDUCED; to pass the test, an implementation must produce the correct results with cardinalities between one and the cardainlity in the expected result set.)</p>




<p>An example definition of a query-evaluation test is:</p>




<pre class="diag">
&lt;#dawg-regex-002&gt; a mf:QueryEvaluationTest ;
      mf:name    "regex-query-002" ;
      dawgt:approval dawgt:Approved ;
      dawgt:approvedBy &lt;http://lists.w3.org/Archives/Public/public-rdf-dawg/2007AprJun/0029.html&gt; ;
      rdfs:comment
          "Case insensitive unanchored match test" ;
      mf:action
          [ qt:query  &lt;regex-query-002.rq&gt; ;
            qt:data   &lt;regex-data-01.n3&gt; ] ;
      mf:result  &lt;regex-result-002.n3&gt; .
</pre>


<p>  <h4>Test annotations</h4>
  <h5>mf:requires</h5>
  <p>A number of tests in the open-world directory illustrate features of SPARQL
  by depending on how a SPARQL query processor can extend the set of core types
  and operations as defined by the operator table [<a href="http://www.w3.org/TR/rdf-sparql-query/">http://www.w3.org/TR/rdf-sparql-query/#OperatorMapping</a>].</p>
  <p>These tests are marked by property <code>mf:requires</code> and an object value from one
  of the URIs described below.</p>
  <dl></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_code identifier id'>code</span><span class='gt op'>&gt;</span><span class='rubyid_mf identifier id'>mf</span><span class='symbol val'>:XsdDateOperations</span><span class='lt op'>&lt;</span><span class='regexp val'>/code&gt;&lt;/</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='rubyid_Requires constant id'>Requires</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_processor identifier id'>processor</span> <span class='rubyid_to identifier id'>to</span> <span class='rubyid_understand identifier id'>understand</span> <span class='rubyid_comparisons identifier id'>comparisons</span> <span class='rubyid_of identifier id'>of</span> 
<span class='rubyid_literal identifier id'>literal</span> <span class='rubyid_of identifier id'>of</span> <span class='rubyid_type identifier id'>type</span> <span class='rubyid_xsd identifier id'>xsd</span><span class='symbol val'>:date</span><span class='dot token'>.</span> <span class='rubyid_Without constant id'>Without</span> <span class='rubyid_proivding identifier id'>proivding</span> <span class='rubyid_operations identifier id'>operations</span> <span class='rubyid_on identifier id'>on</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_xsd identifier id'>xsd</span><span class='symbol val'>:date</span> <span class='rubyid_datatype identifier id'>datatype</span><span class='comma token'>,</span> <span class='rubyid_a identifier id'>a</span> 
<span class='rubyid_processor identifier id'>processor</span> <span class='rubyid_would identifier id'>would</span> <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_an identifier id'>an</span> <span class='rubyid_error identifier id'>error</span><span class='bitand op'>&amp;</span><span class='rubyid_nbsp identifier id'>nbsp</span><span class='semicolon token'>;</span><span class='rubyid_on identifier id'>on</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_operations identifier id'>operations</span> <span class='rubyid_of identifier id'>of</span> <span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span><span class='assign token'>=</span><span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span> <span class='rubyid_and and kw'>and</span> <span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span><span class='neq op'>!=</span><span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span> 
<span class='rubyid_etc identifier id'>etc</span><span class='dot token'>.</span> <span class='rubyid_With constant id'>With</span> 
<span class='rubyid_an identifier id'>an</span> <span class='rubyid_understanding identifier id'>understanding</span> <span class='rubyid_of identifier id'>of</span> <span class='rubyid_xsd identifier id'>xsd</span><span class='symbol val'>:date</span><span class='comma token'>,</span> <span class='rubyid_a identifier id'>a</span> <span class='rubyid_processor identifier id'>processor</span> <span class='rubyid_can identifier id'>can</span> <span class='rubyid_perform identifier id'>perform</span> <span class='rubyid_value identifier id'>value</span><span class='minus op'>-</span><span class='rubyid_based identifier id'>based</span> <span class='rubyid_operations identifier id'>operations</span> 
<span class='rubyid_and and kw'>and</span> <span class='rubyid_provide identifier id'>provide</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_operations identifier id'>operations</span> <span class='rubyid_described identifier id'>described</span> <span class='rubyid_in in kw'>in</span> <span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span><span class='rubyid_XQuery constant id'>XQuery</span> <span class='float val'>1.0</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_XPath constant id'>XPath</span> <span class='float val'>2.0</span> <span class='rubyid_Functions constant id'>Functions</span> 
<span class='rubyid_and and kw'>and</span> <span class='rubyid_Operators constant id'>Operators</span><span class='bitand op'>&amp;</span><span class='rubyid_quot identifier id'>quot</span><span class='semicolon token'>;</span> <span class='lparen token'>(</span><span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_g identifier id'>g</span><span class='dot token'>.</span> <span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.w3.org/TR/xpath-functions/&quot;</span><span class='gt op'>&gt;</span>
<span class='rubyid_date identifier id'>date</span><span class='minus op'>-</span><span class='rubyid_equals identifier id'>equals</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; &lt;a href=&quot;http:/</span><span class='div op'>/</span><span class='rubyid_www identifier id'>www</span><span class='dot token'>.</span><span class='rubyid_w3 identifier id'>w3</span><span class='dot token'>.</span><span class='rubyid_org identifier id'>org</span><span class='div op'>/</span><span class='rubyid_TR constant id'>TR</span><span class='div op'>/</span><span class='rubyid_xpath identifier id'>xpath</span><span class='minus op'>-</span><span class='rubyid_functions identifier id'>functions</span><span class='div op'>/</span><span class='string val'>&quot;&gt;
date-less-than&lt;/a&gt;)&lt;/dd&gt;

&lt;dt&gt;&lt;code&gt;mf:StringSimpleLiteralCmp&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;This indicates that the test uses the fact that plain literals, without 
language tags test are the same value as an xsd;string with the same 
lexicial form. This is covered by rules &amp;quot;xsd 1a&amp;quot; and &amp;quot;xsd 1b&amp;quot; from RDF 
Semantics [&lt;a href=&quot;</span><span class='rubyid_http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.w3.org/</span><span class='rubyid_TR constant id'>TR</span><span class='div op'>/</span><span class='rubyid_rdf identifier id'>rdf</span><span class='minus op'>-</span><span class='rubyid_mt identifier id'>mt</span><span class='div op'>/</span><span class='string val'>&quot;&gt;http://www.w3.org/TR/rdf-mt/#DtypeRules&lt;/a&gt;].&lt;/dd&gt;

&lt;dt&gt;&lt;code&gt;mf:KnownTypesDefault2Neq&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;This indicates that a processor extends the SPARQL operator model by 
using the fact that values of literals can be in disjoint value spaces and 
hence can not be equal by value. For example, an xsd:integer can not be the 
same value as an xsd:boolean because these two datatypes define disjoint 
value spaces.&lt;/dd&gt;
</span></pre>

<p><dt><code>mf:LangTagAwareness</code></dt></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='rubyid_This constant id'>This</span> <span class='rubyid_indicates identifier id'>indicates</span> <span class='rubyid_that identifier id'>that</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_test identifier id'>test</span> <span class='rubyid_assumes identifier id'>assumes</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_SPARQL constant id'>SPARQL</span> <span class='rubyid_query identifier id'>query</span> <span class='rubyid_processor identifier id'>processor</span> <span class='rubyid_has identifier id'>has</span> <span class='rubyid_support identifier id'>support</span> 
</pre>

<p>for plain literals with language tags.  The minimum set of operators in the</p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_a identifier id'>a</span> <span class='rubyid_href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.w3.org/TR/rdf-sparql-query/#OperatorMapping&quot;</span><span class='gt op'>&gt;</span><span class='rubyid_SPARQL constant id'>SPARQL</span> <span class='rubyid_operator identifier id'>operator</span> <span class='rubyid_table identifier id'>table</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt; 
</span></pre>

<p>does not include language tag handling, only plain literals without language
tag (simple literals) and certain XSD datatypes.</p>

<p></dl></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_h5 identifier id'>h5</span><span class='gt op'>&gt;</span><span class='rubyid_mf identifier id'>mf</span><span class='symbol val'>:notable</span><span class='lt op'>&lt;</span><span class='regexp val'>/h5&gt;
</span></pre>

<p>  <p>This annotation indicates a feature of SPARQL that implementers might note:</p>
  <dl></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='rubyid_code identifier id'>code</span><span class='gt op'>&gt;</span><span class='rubyid_mf identifier id'>mf</span><span class='symbol val'>:IllFormedLiteral</span><span class='lt op'>&lt;</span><span class='regexp val'>/code&gt;&lt;/</span><span class='rubyid_dt identifier id'>dt</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='rubyid_dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='rubyid_The constant id'>The</span> <span class='rubyid_test identifier id'>test</span> <span class='rubyid_involves identifier id'>involves</span> <span class='rubyid_handling identifier id'>handling</span> <span class='rubyid_of identifier id'>of</span> <span class='rubyid_ill identifier id'>ill</span><span class='minus op'>-</span><span class='rubyid_formed identifier id'>formed</span> <span class='rubyid_literals identifier id'>literals</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
</span></pre>

<p></dl></p>

<pre class="code"><span class='lt op'>&lt;</span><span class='rubyid_p identifier id'>p</span><span class='gt op'>&gt;</span><span class='bitand op'>&amp;</span><span class='rubyid_nbsp identifier id'>nbsp</span><span class='semicolon token'>;</span><span class='lt op'>&lt;</span><span class='regexp val'>/p&gt;
</span></pre>

<p>  </body>
</html></p></div></div>
    
    <div id="footer">
  Generated on Fri Jan  6 18:05:57 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.4 (ruby-1.8.7).
</div>

  </body>
</html>